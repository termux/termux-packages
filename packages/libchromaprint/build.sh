TERMUX_PKG_HOMEPAGE=https://acoustid.org/chromaprint
TERMUX_PKG_DESCRIPTION="C library for generating audio fingerprints used by AcoustID"
TERMUX_PKG_LICENSE="LGPL-2.1, MIT"
TERMUX_PKG_MAINTAINER="@termux"
TERMUX_PKG_VERSION=1.6.0
TERMUX_PKG_REVISION=1
TERMUX_PKG_SRCURL=https://github.com/acoustid/chromaprint/archive/refs/tags/v${TERMUX_PKG_VERSION}.tar.gz
TERMUX_PKG_SHA256=65bfce4a35b2e673dbcda917b6aa577e2f145cf805243d19e6a50fea2a520c2a
TERMUX_PKG_DEPENDS="fftw, libc++"
TERMUX_PKG_BUILD_DEPENDS="ffmpeg"
TERMUX_PKG_BREAKS="chromaprint (<< 1.5.1-p20250625)"
TERMUX_PKG_REPLACES="chromaprint (<< 1.5.1-p20250625)"
TERMUX_PKG_AUTO_UPDATE=true
TERMUX_PKG_EXTRA_CONFIGURE_ARGS="
-DCMAKE_INSTALL_LIBDIR=$TERMUX__PREFIX__LIB_SUBDIR
-DCMAKE_INSTALL_INCLUDEDIR=$TERMUX__PREFIX__INCLUDE_SUBDIR
-DCMAKE_BUILD_TYPE=Release
-DBUILD_SHARED_LIBS=ON
-DFFT_LIB=fftw3
-DBUILD_TOOLS=ON
-DBUILD_TESTS=OFF
"
