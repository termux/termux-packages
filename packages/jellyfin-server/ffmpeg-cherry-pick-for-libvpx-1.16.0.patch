From a5d4c398b411a00ac09d8fe3b66117222323844c Mon Sep 17 00:00:00 2001
From: Christopher Degawa <ccom@randomderp.com>
Date: Wed, 21 Jan 2026 00:12:59 -0600
Subject: [PATCH] avcodec/libsvtav1: rename aq_mode for v4.0.0

Signed-off-by: Christopher Degawa <ccom@randomderp.com>
Signed-off-by: James Almer <jamrial@gmail.com>
---
 libavcodec/libsvtav1.c | 4 ++++
 1 file changed, 4 insertions(+)

--- a/jellyfin-ffmpeg-7.1.3-1/libavcodec/libsvtav1.c
+++ b/jellyfin-ffmpeg-7.1.3-1/libavcodec/libsvtav1.c
@@ -237,7 +237,11 @@ static int config_enc_params(EbSvtAv1EncConfiguration *param,
     } else if (svt_enc->qp > 0) {
         param->qp                   = svt_enc->qp;
         param->rate_control_mode    = 0;
+#if SVT_AV1_CHECK_VERSION(4, 0, 0)
+        param->aq_mode = 0;
+#else
         param->enable_adaptive_quantization = 0;
+#endif
     }
 
     desc = av_pix_fmt_desc_get(avctx->pix_fmt);
