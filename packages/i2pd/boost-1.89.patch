From 27f2c5285da9bec537caeba9f7df6920b9f21c87 Mon Sep 17 00:00:00 2001
From: orignal <i2porignal@yandex.ru>
Date: Thu, 14 Aug 2025 18:51:54 -0400
Subject: [PATCH] support boost 1.89

---
 Makefile.bsd        | 2 +-
 Makefile.homebrew   | 2 +-
 Makefile.osx        | 2 +-
 libi2pd/Timestamp.h | 3 ++-
 4 files changed, 5 insertions(+), 4 deletions(-)

diff --git a/Makefile.bsd b/Makefile.bsd
index 1c9118028a0..9c6de7f0d87 100644
--- a/Makefile.bsd
+++ b/Makefile.bsd
@@ -3,7 +3,7 @@ CXXFLAGS ?= ${CXX_DEBUG} -Wall -Wextra -Wno-unused-parameter -pedantic -Wno-misl
 DEFINES = -D_GLIBCXX_USE_NANOSLEEP=1
 INCFLAGS = -I/usr/include/ -I/usr/local/include/
 LDFLAGS = ${LD_DEBUG} -Wl,-rpath,/usr/local/lib -L/usr/local/lib
-LDLIBS = -lssl -lcrypto -lz -lpthread -lboost_system -lboost_program_options
+LDLIBS = -lssl -lcrypto -lz -lpthread -lboost_program_options
 
 ## NOTE: NEEDED_CXXFLAGS is here so that custom CXXFLAGS can be specified at build time
 ## **without** overwriting the CXXFLAGS which we need in order to build.
diff --git a/Makefile.homebrew b/Makefile.homebrew
index 706f981110c..9d8d17cdb52 100644
--- a/Makefile.homebrew
+++ b/Makefile.homebrew
@@ -18,7 +18,7 @@ endif
 	LDLIBS +=  -lpthread -ldl
 else
 	LDFLAGS += -L${SSLROOT}/lib -L${BOOSTROOT}/lib
-	LDLIBS = -lz -lssl -lcrypto -lboost_system -lboost_filesystem -lboost_program_options -lpthread
+	LDLIBS = -lz -lssl -lcrypto -lboost_program_options -lpthread
 ifeq ($(USE_UPNP),yes)
 	LDFLAGS += -L${UPNPROOT}/lib
 	LDLIBS += -lminiupnpc
diff --git a/Makefile.osx b/Makefile.osx
index 52282307fa0..a2ad515efd8 100644
--- a/Makefile.osx
+++ b/Makefile.osx
@@ -9,7 +9,7 @@ LDFLAGS += -Wl,-dead_strip_dylibs
 ifeq ($(USE_STATIC),yes)
 	LDLIBS = -lz /usr/local/lib/libssl.a /usr/local/lib/libcrypto.a /usr/local/lib/libboost_system.a /usr/local/lib/libboost_filesystem.a /usr/local/lib/libboost_program_options.a -lpthread
 else
-	LDLIBS = -lz -lssl -lcrypto -lboost_system -lboost_filesystem -lboost_program_options -lpthread
+	LDLIBS = -lz -lssl -lcrypto -lboost_program_options -lpthread
 endif
 
 ifeq ($(USE_UPNP),yes)
diff --git a/libi2pd/Timestamp.h b/libi2pd/Timestamp.h
index 00c60433251..6b22468566e 100644
--- a/libi2pd/Timestamp.h
+++ b/libi2pd/Timestamp.h
@@ -1,5 +1,5 @@
 /*
-* Copyright (c) 2013-2024, The PurpleI2P Project
+* Copyright (c) 2013-2025, The PurpleI2P Project
 *
 * This file is part of Purple i2pd project and licensed under BSD3
 *
@@ -14,6 +14,7 @@
 #include <vector>
 #include <string>
 #include <boost/asio.hpp>
+#include <boost/asio/deadline_timer.hpp> // for boost 1.89 
 
 namespace i2p
 {
