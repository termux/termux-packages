--- a/config.h
+++ b/config.h
@@ -73,7 +73,7 @@
 #define UNUSED(A) (void)(A)
 
 /* Android Bionic libpthread implementation doesn't have pthread_cancel */
-#if !defined(ANDROID) && !defined(WIN32)
+#if !defined(__ANDROID__) && !defined(WIN32)
 #  define HAVE_PTHREAD_CANCEL
 #endif
 
