From 9b100a1d3995b7debd0fffcb3afaaf0346c18ac5 Mon Sep 17 00:00:00 2001
From: correctmost <136447-correctmost@users.noreply.gitlab.gnome.org>
Date: Wed, 24 Sep 2025 13:25:36 -0400
Subject: [PATCH] bmp: Fix loading of bitmaps that have bottom-down pixel order

Fixes: 427b566796

Closes #271
---
 gdk-pixbuf/io-bmp.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/gdk-pixbuf/io-bmp.c b/gdk-pixbuf/io-bmp.c
index 0eca48ed2..f1b68a596 100644
--- a/gdk-pixbuf/io-bmp.c
+++ b/gdk-pixbuf/io-bmp.c
@@ -129,7 +129,7 @@ static void DumpBIH(unsigned char *BIH)
 struct headerpair {
 	guint32 size;
 	guint32 width;
-	guint32 height;
+	gint32 height;
 	guint depth;
 	guint Negative;		/* Negative = 1 -> top down BMP,
 				   Negative = 0 -> bottom up BMP */
-- 
GitLab

