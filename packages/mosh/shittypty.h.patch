--- ../mosh/src/frontend/shittypty.h	2016-04-29 00:42:50.787977659 +1000
+++ ./src/frontend/shittypty.h	2016-04-29 00:40:48.256667557 +1000
@@ -0,0 +1,35 @@
+/*
+    Mosh: the mobile shell
+    Copyright 2012 Keith Winstein
+
+    This program is free software: you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation, either version 3 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program.  If not, see <http://www.gnu.org/licenses/>.
+*/
+
+#ifndef PTY_HPP
+#define PTY_HPP
+
+#include "config.h"
+
+#ifndef HAVE_FORKPTY
+#define forkpty my_forkpty
+int my_forkpty (int *amaster, char *name, const struct termios *termp, const struct winsize *winp);
+#endif
+
+#ifndef HAVE_OPENPTY
+#define openpty my_openpty
+int my_openpty (int *amaster, int *aslave, char *name, const struct termios *termp,
+         const struct winsize *winp);
+#endif
+
+#endif
