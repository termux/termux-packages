--- a/bin/csh/proc.c
+++ b/bin/csh/proc.c
@@ -40,12 +40,13 @@
 
 #include <sys/types.h>
 #include <sys/wait.h>
+#include <bsd/sys/time.h>
 
 #include <errno.h>
 #include <stdarg.h>
 #include <stdlib.h>
 #include <string.h>
-#include <unistd.h>
+#include <bsd/unistd.h>
 
 #include "csh.h"
 #include "dir.h"
@@ -95,7 +96,7 @@
 
 loop:
     errno = 0;			/* reset, just in case */
-    pid = wait3(&w,
+    pid = wait4((pid_t)-1, &w,
        (setintr && (intty || insource) ? WNOHANG | WUNTRACED : WNOHANG), &ru);
 
     if (pid <= 0) {
