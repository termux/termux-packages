Prevents:
error[E0425]: cannot find function `shm_open` in module `mman`
   --> /home/builder/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/smithay-client-toolkit-0.16.1/src/shm/mempool.rs:491:21
    |
491 |         match mman::shm_open(
    |                     ^^^^^^^^ not found in `mman`

--- a/src/shm/mempool.rs
+++ b/src/shm/mempool.rs
@@ -458,63 +458,7 @@ impl AutoMemPool {
 }
 
 fn create_shm_fd() -> io::Result<RawFd> {
-    // Only try memfd on linux
-    #[cfg(target_os = "linux")]
-    loop {
-        match memfd::memfd_create(
-            CStr::from_bytes_with_nul(b"smithay-client-toolkit\0").unwrap(),
-            memfd::MemFdCreateFlag::MFD_CLOEXEC | memfd::MemFdCreateFlag::MFD_ALLOW_SEALING,
-        ) {
-            Ok(fd) => {
-                // this is only an optimization, so ignore errors
-                let _ = fcntl::fcntl(
-                    fd,
-                    fcntl::F_ADD_SEALS(
-                        fcntl::SealFlag::F_SEAL_SHRINK | fcntl::SealFlag::F_SEAL_SEAL,
-                    ),
-                );
-                return Ok(fd);
-            }
-            Err(Errno::EINTR) => continue,
-            Err(Errno::ENOSYS) => break,
-            Err(errno) => return Err(errno.into()),
-        }
-    }
-
-    // Fallback to using shm_open
-    let sys_time = SystemTime::now();
-    let mut mem_file_handle = format!(
-        "/smithay-client-toolkit-{}",
-        sys_time.duration_since(UNIX_EPOCH).unwrap().subsec_nanos()
-    );
-    loop {
-        match mman::shm_open(
-            mem_file_handle.as_str(),
-            fcntl::OFlag::O_CREAT
-                | fcntl::OFlag::O_EXCL
-                | fcntl::OFlag::O_RDWR
-                | fcntl::OFlag::O_CLOEXEC,
-            stat::Mode::S_IRUSR | stat::Mode::S_IWUSR,
-        ) {
-            Ok(fd) => match mman::shm_unlink(mem_file_handle.as_str()) {
-                Ok(_) => return Ok(fd),
-                Err(errno) => match unistd::close(fd) {
-                    Ok(_) => return Err(errno.into()),
-                    Err(errno) => return Err(errno.into()),
-                },
-            },
-            Err(Errno::EEXIST) => {
-                // If a file with that handle exists then change the handle
-                mem_file_handle = format!(
-                    "/smithay-client-toolkit-{}",
-                    sys_time.duration_since(UNIX_EPOCH).unwrap().subsec_nanos()
-                );
-                continue;
-            }
-            Err(Errno::EINTR) => continue,
-            Err(errno) => return Err(errno.into()),
-        }
-    }
+    Err(Errno::ENOSYS.into())
 }
 
 impl<E> crate::environment::Environment<E>
