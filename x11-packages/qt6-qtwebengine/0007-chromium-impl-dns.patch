--- a/src/3rdparty/chromium/net/dns/dns_config_service_linux.cc
+++ b/src/3rdparty/chromium/net/dns/dns_config_service_linux.cc
@@ -7,6 +7,10 @@
 #pragma allow_unsafe_buffers
 #endif
 
+#include <sys/types.h>
+
+#ifndef __TERMUX__
+
 #include "net/dns/dns_config_service_linux.h"
 
 #include <netdb.h>
@@ -528,3 +532,8 @@
 }
 
 }  // namespace net
+
+#else // __TERMUX__
+// XXX: Actually, Termux has no DNS config, fallback to use the stub of fushsia.
+#include "./dns_config_service_fuchsia.cc"
+#endif // __TERMUX__
--- a/src/3rdparty/chromium/net/dns/dns_reloader.cc
+++ b/src/3rdparty/chromium/net/dns/dns_reloader.cc
@@ -31,7 +31,7 @@
 // an old musl bug that was fixed by musl c8fdcfe5, but Fuchsia's SDK doesn't
 // have that change.
 #if defined(__RES) && __RES >= 19991006 && !BUILDFLAG(IS_APPLE) && \
-    !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_FUCHSIA)
+    !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_FUCHSIA) && !defined(__TERMUX__)
 // We define this so we don't need to restate the complex condition here twice
 // below - it would be easy for the copies below to get out of sync.
 #define USE_RES_NINIT
--- a/src/3rdparty/chromium/net/dns/public/resolv_reader.cc
+++ b/src/3rdparty/chromium/net/dns/public/resolv_reader.cc
@@ -37,6 +37,8 @@
     const struct __res_state& res) {
   std::vector<IPEndPoint> nameservers;
 
+#ifndef __TERMUX__
+
   if (!(res.options & RES_INIT))
     return std::nullopt;
 
@@ -93,6 +95,12 @@
   }
 #endif
 
+#else // __TERMUX__
+  // From Android 8, getprop of net.dns%d has been invalid. So just
+  // assume the nameserver is 8.8.8.8.
+  nameservers.push_back(IPEndPoint(IPAddress(8, 8, 8, 8), 53));
+#endif // __TERMUX__
+
   return nameservers;
 }
 
--- a/src/3rdparty/chromium/net/dns/public/scoped_res_state.cc
+++ b/src/3rdparty/chromium/net/dns/public/scoped_res_state.cc
@@ -15,6 +15,15 @@
 #include "base/check.h"
 #include "build/build_config.h"
 
+#ifdef __TERMUX__
+static int res_ninit(struct __res_state*) {
+  return 0;
+}
+static void res_nclose(struct __res_state*) {
+  return;
+}
+#endif
+
 namespace net {
 
 ScopedResState::ScopedResState() {
--- a/src/3rdparty/chromium/net/dns/public/scoped_res_state.h
+++ b/src/3rdparty/chromium/net/dns/public/scoped_res_state.h
@@ -12,6 +12,14 @@
 #include "build/build_config.h"
 #include "net/base/net_export.h"
 
+#ifdef __TERMUX__
+// On Android NDK without JNI, there is no valid way to get nameservers.
+// So just provide a dummy struct and functions.
+struct __res_state {
+  int _dummy_state;
+};
+#endif
+
 namespace net {
 
 // Helper class to open, read and close a __res_state.
