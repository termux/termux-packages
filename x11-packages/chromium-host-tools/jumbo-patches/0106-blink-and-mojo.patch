From 5a7e3ea17a5403c2f5ab1a12d1d5d052389431f6 Mon Sep 17 00:00:00 2001
From: Chongyun Lee <licy183@termux.dev>
Date: Fri, 18 Apr 2025 04:05:47 +0800
Subject: [PATCH] reland jumbo 6

Enable jumbo build for the following component(s)/source_set(s):

- //mojo/public/cpp/bindings:bindings_base
- //mojo/public/cpp/bindings:bindings
- //mojo/public/cpp/system:system
- //third_party/blink/common:common
- //third_party/blink/renderer/controller:controller
- //third_party/blink/renderer/core:prerequisites
- //third_party/blink/renderer/core:core
- //third_party/blink/renderer/core/inspector:generated
- //third_party/blink/renderer/modules:modules
- //third_party/blink/renderer/platform:platform
- //third_party/blink/renderer/platform/blob:generator
- //third_party/blink/renderer/platform/image-decoders:image_decoders
- //third_party/blink/renderer/platform/media:media
- //third_party/blink/renderer/platform/wtf:wtf

Enable jumbo build for the following template(s):

- //mojo/public/tools/bindings/mojom.gni -> template("mojom")
- //third_party/blink/renderer/modules/modules.gni -> template("blink_modules_sources")
- //third_party/blink/renderer/platform/platform.gni -> template("blink_platform_sources")

---
 content/common/BUILD.gn                       |  4 +++
 media/base/audio_bus.h                        |  9 ++++++
 mojo/public/cpp/bindings/BUILD.gn             |  5 ++--
 mojo/public/cpp/system/BUILD.gn               |  4 ++-
 mojo/public/tools/bindings/mojom.gni          | 17 +++++++++--
 third_party/blink/common/BUILD.gn             |  5 ++--
 .../blink/renderer/bindings/bindings.gni      |  6 ++++
 .../blink/renderer/bindings/core/v8/BUILD.gn  |  2 +-
 .../bindings/core/v8/v8_binding_for_core.cc   |  9 ++++++
 .../renderer/bindings/modules/v8/BUILD.gn     |  2 +-
 .../scripts/bind_gen/callback_interface.py    |  1 +
 .../bindings/scripts/bind_gen/dictionary.py   | 10 +++----
 .../bindings/scripts/bind_gen/interface.py    | 27 ++++++++++++++----
 .../blink/renderer/controller/BUILD.gn        |  7 +++--
 third_party/blink/renderer/core/BUILD.gn      | 26 ++++++++++++-----
 .../blink/renderer/core/animation/BUILD.gn    |  3 ++
 .../css_filter_list_interpolation_type.cc     |  4 +++
 .../css_gap_length_list_interpolation_type.cc |  4 +++
 .../css_length_interpolation_type.cc          |  4 +++
 .../animation/css_shape_interpolation_type.cc |  9 ++++++
 third_party/blink/renderer/core/core.gni      |  5 ++--
 .../background_color_paint_image_generator.cc |  4 +++
 .../css/box_shadow_paint_image_generator.cc   |  4 +++
 .../css/css_dynamic_range_limit_mix_value.cc  |  9 ++++++
 .../core/css/css_numeric_literal_value.cc     |  9 ++++++
 .../core/css/css_property_value_set.cc        |  9 ++++++
 .../core/css/css_syntax_definition.cc         |  9 ++++++
 .../css/css_unparsed_declaration_value.cc     |  9 ++++++
 .../core/css/parser/css_parser_fast_paths.cc  |  9 ++++++
 .../core/css/parser/css_property_parser.cc    |  9 ++++++
 .../css/resolver/matched_properties_cache.cc  |  9 ++++++
 .../css/resolver/style_builder_converter.cc   |  9 ++++++
 .../blink/renderer/core/css/selector_query.cc |  9 ++++++
 .../renderer/core/dom/element_data_cache.cc   |  9 ++++++
 .../core/dom/presentation_attribute_style.cc  |  9 ++++++
 .../core/editing/finder/chunk_graph_utils.cc  |  9 ++++++
 .../core/editing/finder/find_results.cc       |  9 ++++++
 .../renderer/core/editing/ime/edit_context.cc |  9 ++++++
 .../editing/iterators/text_searcher_icu.cc    |  9 ++++++
 .../renderer/core/execution_context/agent.cc  |  4 +++
 .../web_bundled_code_cache_generator.cc       |  9 ++++++
 .../renderer/core/frame/frame_serializer.cc   |  9 ++++++
 .../core/frame/local_frame_mojo_handler.cc    |  8 ++++++
 .../frame/overlay_interstitial_ad_detector.cc |  6 ++++
 .../renderer/core/frame/sticky_ad_detector.cc |  6 ++++
 .../html/anchor_element_metrics_sender.cc     |  4 +++
 ...nchor_element_viewport_position_tracker.cc |  4 +++
 .../core/html/parser/html_parser_idioms.cc    |  9 ++++++
 .../core/html/track/audio_track_list.cc       |  9 ++++++
 .../renderer/core/html/track/cue_timeline.cc  |  2 +-
 .../renderer/core/html/track/text_track.cc    |  4 +--
 .../renderer/core/imagebitmap/image_bitmap.cc |  4 +++
 .../core/imagebitmap/image_bitmap_source.cc   |  4 +++
 .../blink/renderer/core/inspector/BUILD.gn    |  3 +-
 .../inspector_css_parser_observer.cc          |  4 +++
 .../core/inspector/inspector_style_sheet.cc   |  4 +++
 .../core/layout/flex/flex_layout_algorithm.cc | 17 +++++++++++
 .../core/layout/grid/grid_layout_algorithm.cc |  6 ++++
 .../core/layout/inline/fragment_items.cc      |  9 ++++++
 .../core/layout/inline/inline_node.cc         |  9 ++++++
 .../core/layout/inline/line_breaker.cc        |  9 ++++++
 .../core/layout/mathml/math_layout_utils.cc   |  4 +++
 .../mathml/math_scripts_layout_algorithm.cc   |  4 +++
 .../core/layout/svg/layout_svg_ellipse.cc     |  4 +++
 .../core/layout/svg/layout_svg_rect.cc        |  4 +++
 .../renderer/core/layout/text_autosizer.cc    |  9 ++++++
 ...alternate_signed_exchange_resource_info.cc |  9 ++++++
 .../multipart_image_resource_parser.cc        |  9 ++++++
 .../core/paint/paint_property_tree_builder.cc |  4 +++
 .../core/paint/pre_paint_tree_walk.cc         |  4 +++
 .../core/script/document_modulator_impl.cc    |  9 ++++++
 .../document_rule_predicate.cc                |  4 +++
 .../speculation_rules/speculation_rule_set.cc |  4 +++
 .../renderer/core/svg/svg_path_byte_stream.h  |  9 ++++++
 .../blink/renderer/core/svg/svg_view_spec.cc  |  4 +++
 .../core/timing/background_tracing_helper.cc  |  9 ++++++
 .../core/timing/performance_event_timing.cc   |  9 ++++++
 .../core/timing/responsiveness_metrics.cc     | 18 ++++++++++++
 .../core/timing/soft_navigation_heuristics.cc | 14 ++++++++++
 .../core/timing/window_performance.cc         |  9 ++++++
 .../url_pattern_dummy_url_canon.cc            |  2 +-
 third_party/blink/renderer/modules/BUILD.gn   |  6 ++--
 .../accessibility/ax_block_flow_iterator.cc   |  9 ++++++
 .../accessibility/ax_object_cache_impl.cc     |  2 ++
 .../ax_object_cache_lifecycle.cc              |  2 ++
 .../renderer/modules/bluetooth/bluetooth.cc   |  4 +++
 .../modules/bluetooth/bluetooth_device.cc     |  4 +++
 ...edia_stream_audio_track_underlying_sink.cc |  4 +++
 ...edia_stream_video_track_underlying_sink.cc |  4 +++
 .../blink/renderer/modules/canvas/BUILD.gn    |  3 ++
 .../credentialmanagement/credential.cc        | 10 +++++++
 .../digital_credential.cc                     |  4 +++
 .../federated_credential.cc                   |  4 +++
 .../identity_credential.cc                    |  4 +++
 .../credentialmanagement/otp_credential.cc    |  4 +++
 .../blink/renderer/modules/gamepad/BUILD.gn   |  2 +-
 .../blink/renderer/modules/gamepad/gamepad.cc |  9 ++++++
 .../modules/gamepad/navigator_gamepad.cc      |  9 ++++++
 .../blink/renderer/modules/hid/BUILD.gn       |  2 +-
 third_party/blink/renderer/modules/hid/hid.cc |  4 +++
 .../blink/renderer/modules/hid/hid_device.cc  |  4 +++
 .../image_capture_frame_grabber.cc            |  9 ++++++
 .../blink/renderer/modules/media/BUILD.gn     |  1 +
 .../renderer/modules/mediarecorder/BUILD.gn   |  6 ++++
 .../mediarecorder/video_track_recorder.cc     |  9 ++++++
 .../renderer/modules/mediastream/BUILD.gn     | 13 ++++++++-
 .../web_media_player_ms_compositor.cc         |  9 ++++++
 .../renderer/modules/ml/webnn/ml_graph.cc     |  2 ++
 .../modules/ml/webnn/ml_graph_builder.cc      | 11 ++++++++
 .../blink/renderer/modules/modules.gni        |  3 +-
 ...payment_app_service_worker_registration.cc |  4 +++
 .../renderer/modules/peerconnection/BUILD.gn  |  8 +++++-
 .../renderer/modules/permissions/BUILD.gn     |  1 +
 .../shared_storage/shared_storage_worklet.cc  |  9 ++++++
 .../blink/renderer/modules/storage/BUILD.gn   |  2 +-
 .../global_storage_access_handle.cc           |  6 +++-
 .../storage_access/storage_access_handle.cc   |  6 +++-
 .../modules/webaudio/analyser_handler.cc      |  6 ++++
 .../webaudio/audio_buffer_source_handler.cc   |  4 +++
 .../webaudio/audio_buffer_source_node.cc      |  4 +++
 .../modules/webaudio/audio_worklet_handler.cc |  4 +++
 .../modules/webaudio/biquad_filter_node.cc    |  4 +++
 .../webaudio/constant_source_handler.cc       |  4 +++
 .../modules/webaudio/convolver_handler.cc     |  6 ++++
 .../webaudio/dynamics_compressor_handler.cc   |  4 +++
 .../renderer/modules/webaudio/gain_handler.cc |  4 +++
 .../modules/webaudio/iir_filter_handler.cc    |  4 +++
 .../media_element_audio_source_handler.cc     |  4 +++
 .../media_stream_audio_destination_node.cc    |  4 +++
 .../media_stream_audio_source_handler.cc      |  4 +++
 .../webaudio/offline_audio_worklet_thread.cc  |  6 ++++
 .../modules/webaudio/oscillator_handler.cc    |  4 +++
 .../modules/webaudio/panner_handler.cc        |  6 ++++
 .../realtime_audio_destination_handler.cc     |  4 +++
 .../semi_realtime_audio_worklet_thread.cc     |  6 ++++
 .../modules/webaudio/stereo_panner_handler.cc |  6 ++++
 .../blink/renderer/modules/webcodecs/BUILD.gn |  5 ++++
 .../modules/webcodecs/audio_encoder.cc        |  4 +++
 .../modules/webcodecs/background_readback.cc  |  9 ++++++
 .../modules/webcodecs/decoder_template.cc     |  6 ++++
 .../modules/webcodecs/encoder_base.cc         |  6 ++++
 .../webgl/webgl2_rendering_context_base.cc    | 12 ++++++++
 .../webgl/webgl_rendering_context_base.cc     | 16 +++++++++++
 .../blink/renderer/modules/webgpu/BUILD.gn    |  2 ++
 .../blink/renderer/modules/webrtc/BUILD.gn    |  1 +
 .../renderer/modules/webtransport/BUILD.gn    |  2 +-
 .../renderer/modules/xr/xr_gpu_binding.cc     | 13 +++++++++
 .../renderer/modules/xr/xr_webgl_binding.cc   | 13 +++++++++
 .../xr/xr_webgl_texture_array_swap_chain.cc   |  9 ++++++
 third_party/blink/renderer/platform/BUILD.gn  | 28 +++++++++++++++----
 .../audio/audio_destination_uma_reporter.cc   |  9 ++++++
 .../renderer/platform/audio/hrtf_database.cc  |  4 +++
 .../renderer/platform/audio/hrtf_elevation.cc |  4 +++
 .../platform/bindings/to_blink_string.cc      |  9 ++++++
 .../blink/renderer/platform/blob/BUILD.gn     |  7 +++--
 .../renderer/platform/fonts/font_cache_key.h  |  9 ++++++
 .../fonts/font_face_creation_params.h         |  9 ++++++
 .../platform/fonts/font_selection_types.cc    |  9 ++++++
 .../opentype/open_type_baseline_metrics.cc    |  4 +++
 .../fonts/opentype/open_type_math_support.cc  |  4 +++
 .../case_mapping_harfbuzz_buffer_filler.cc    |  9 ++++++
 .../platform/fonts/shaping/harfbuzz_shaper.cc |  4 +++
 .../platform/fonts/shaping/shape_result.cc    |  4 +++
 .../renderer/platform/geometry/layout_unit.cc |  2 ++
 .../platform/geometry/physical_offset.cc      |  2 ++
 ...atic_bitmap_image_to_video_frame_copier.cc |  9 ++++++
 .../blink/renderer/platform/heap/BUILD.gn     |  5 ++--
 .../platform/heap/garbage_collected.h         |  9 ++++++
 .../renderer/platform/image-decoders/BUILD.gn |  3 +-
 .../platform/instrumentation/BUILD.gn         |  3 +-
 .../blink/renderer/platform/loader/BUILD.gn   | 13 +++++++--
 .../platform/loader/fetch/cached_metadata.cc  |  9 ++++++
 .../url_loader/mojo_url_loader_client.cc      |  9 ++++++
 .../blink/renderer/platform/media/BUILD.gn    |  3 +-
 .../renderer/platform/media/cache_util.cc     |  6 ++++
 .../media/new_session_cdm_result_promise.cc   |  6 ++++
 .../resource_multi_buffer_data_provider.cc    |  6 ++++
 .../browser_interface_broker_proxy_impl.cc    |  9 ++++++
 .../blink/renderer/platform/network/BUILD.gn  |  5 ++--
 .../peerconnection/rtc_video_encoder.cc       |  9 ++++++
 .../stats_collecting_encoder.cc               |  4 +++
 .../blink/renderer/platform/platform.gni      |  4 ++-
 .../renderer/platform/scheduler/BUILD.gn      |  7 +++--
 .../platform/storage/blink_storage_key_hash.h |  9 ++++++
 .../platform/text/text_encoding_detector.cc   |  9 ++++++
 .../theme/web_theme_engine_default.cc         |  2 +-
 .../platform/weborigin/security_origin.h      |  9 ++++++
 .../convert_to_webrtc_video_frame_buffer.cc   |  9 ++++++
 .../widget/input/main_thread_event_queue.cc   |  4 +++
 .../widget/input/widget_base_input_handler.cc |  4 +++
 .../blink/renderer/platform/wtf/BUILD.gn      |  5 ++--
 .../renderer/platform/wtf/text/string_hash.h  |  9 ++++++
 .../renderer/platform/wtf/text/string_impl.h  |  9 ++++++
 .../blink/renderer/platform/wtf/vector.h      |  9 ++++++
 194 files changed, 1220 insertions(+), 73 deletions(-)

diff --git a/content/common/BUILD.gn b/content/common/BUILD.gn
index 8c293f5bb0..6d7ad583bc 100644
--- a/content/common/BUILD.gn
+++ b/content/common/BUILD.gn
@@ -438,6 +438,10 @@ mojom("mojo_bindings") {
 
   disable_variants = true
 
+  # Fail to compile with error
+  # `redefinition of 'ParamTraits<content::WebPluginMimeType::Param>'`
+  disable_jumbo = true
+
   sources = [
     "agent_scheduling_group.mojom",
     "associated_interfaces.mojom",
diff --git a/media/base/audio_bus.h b/media/base/audio_bus.h
index 1be4610a00..23ec538b9f 100644
--- a/media/base/audio_bus.h
+++ b/media/base/audio_bus.h
@@ -20,6 +20,11 @@
 #include "base/memory/raw_ptr_exclusion.h"
 #include "media/base/media_export.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace media {
 class AudioParameters;
 
@@ -390,3 +395,7 @@ void AudioBus::CopyConvertFromAudioBusToInterleavedTarget(
 }  // namespace media
 
 #endif  // MEDIA_BASE_AUDIO_BUS_H_
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/mojo/public/cpp/bindings/BUILD.gn b/mojo/public/cpp/bindings/BUILD.gn
index 2746a2e39b..c7e31d2959 100644
--- a/mojo/public/cpp/bindings/BUILD.gn
+++ b/mojo/public/cpp/bindings/BUILD.gn
@@ -6,6 +6,7 @@ import("//base/trace_event/tracing.gni")
 import("//build/buildflag_header.gni")
 import("//build/config/compiler/compiler.gni")
 import("//build/config/features.gni")
+import("//build/config/jumbo.gni")
 import("//tools/ipc_fuzzer/ipc_fuzzer.gni")
 
 declare_args() {
@@ -38,7 +39,7 @@ source_set("default_construct_tag") {
 
 # Headers and sources which generated bindings can depend upon. No need for
 # other targets to depend on this directly: just use the "bindings" target.
-component("bindings_base") {
+jumbo_component("bindings_base") {
   sources = [
     "array_data_view.h",
     "array_traits.h",
@@ -157,7 +158,7 @@ component("bindings_base") {
   }
 }
 
-component("bindings") {
+jumbo_component("bindings") {
   sources = [
     "associated_interface_ptr_info.h",
     "associated_receiver.h",
diff --git a/mojo/public/cpp/system/BUILD.gn b/mojo/public/cpp/system/BUILD.gn
index 0be93ef19a..ce97520cd3 100644
--- a/mojo/public/cpp/system/BUILD.gn
+++ b/mojo/public/cpp/system/BUILD.gn
@@ -2,7 +2,9 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
-component("system") {
+import("//build/config/jumbo.gni")
+
+jumbo_component("system") {
   output_name = "mojo_public_system_cpp"
 
   sources = [
diff --git a/mojo/public/tools/bindings/mojom.gni b/mojo/public/tools/bindings/mojom.gni
index 87b3bbe9ae..d3d7f411fa 100644
--- a/mojo/public/tools/bindings/mojom.gni
+++ b/mojo/public/tools/bindings/mojom.gni
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//mojo/public/tools/bindings/mojom_rust.gni")
 import("//third_party/closure_compiler/closure_args.gni")
 import("//third_party/closure_compiler/compile_js.gni")
@@ -1029,7 +1030,7 @@ template("mojom") {
   }
 
   shared_cpp_sources_target_name = "${target_name}_shared_cpp_sources"
-  source_set(shared_cpp_sources_target_name) {
+  jumbo_source_set(shared_cpp_sources_target_name) {
     if (defined(invoker.testonly)) {
       testonly = invoker.testonly
     }
@@ -1218,6 +1219,13 @@ template("mojom") {
   } else {
     enabled_configurations = [ default_variant ]
   }
+
+  if (defined(invoker.disable_jumbo) && invoker.disable_jumbo) {
+    disable_jumbo = true
+  } else {
+    disable_jumbo = false
+  }
+
   foreach(bindings_configuration, enabled_configurations) {
     cpp_only = false
     if (defined(invoker.cpp_only)) {
@@ -1609,6 +1617,10 @@ template("mojom") {
       sources_target_type = "source_set"
     }
 
+    if (!disable_jumbo) {
+      sources_target_type = "jumbo_" + sources_target_type
+    }
+
     output_target_name = "${target_name}${variant_suffix}"
     if (proxy_target != "") {
       group(output_target_name) {
@@ -1779,6 +1791,7 @@ template("mojom") {
 
     target(sources_target_type, sources_target_name) {
       if (defined(output_name_override)) {
+
         output_name = output_name_override
       }
       visibility = output_visibility + [
@@ -1886,7 +1899,7 @@ template("mojom") {
 
       mojolpm_target_name = "${target_name}_mojolpm"
       mojolpm_generator_target_name = "${target_name}__generator"
-      source_set(mojolpm_target_name) {
+      jumbo_source_set(mojolpm_target_name) {
         # There are still a few missing header dependencies between mojo targets
         # with typemaps and the dependencies of their typemap headers. It would
         # be good to enable include checking for these in the future though.
diff --git a/third_party/blink/common/BUILD.gn b/third_party/blink/common/BUILD.gn
index 256e5433c3..8e48eb96b7 100644
--- a/third_party/blink/common/BUILD.gn
+++ b/third_party/blink/common/BUILD.gn
@@ -3,6 +3,7 @@
 # found in the LICENSE file.
 
 import("//build/config/features.gni")
+import("//build/config/jumbo.gni")
 import("//build/config/rust.gni")
 import("//build/nocompile.gni")
 import("//testing/libfuzzer/fuzzer_test.gni")
@@ -112,7 +113,7 @@ config("blink_common_implementation") {
   defines = [ "BLINK_COMMON_IMPLEMENTATION=1" ]
 }
 
-source_set("common") {
+jumbo_source_set("common") {
   # No target should directly depend on this target since this is just the
   # source set rather than the actual component that can be linked to.
   # Dependencies instead should be to //third_party/blink/public/common:common.
@@ -380,7 +381,7 @@ test("blink_common_unittests") {
   data_deps = [ ":common_unittests_data" ]
 }
 
-source_set("common_unittests_sources") {
+jumbo_source_set("common_unittests_sources") {
   testonly = true
 
   sources = [
diff --git a/third_party/blink/renderer/bindings/bindings.gni b/third_party/blink/renderer/bindings/bindings.gni
index ef2403fd9b..55a46cfce9 100644
--- a/third_party/blink/renderer/bindings/bindings.gni
+++ b/third_party/blink/renderer/bindings/bindings.gni
@@ -189,6 +189,12 @@ blink_core_sources_bindings =
                   ],
                   "abspath")
 
+blink_core_sources_bindings_jumbo_excluded =
+      get_path_info([
+        # redefinition of 'CrossThreadCopier<mojo::ScopedHandleBase<mojo::DataPipeConsumerHandle>>'
+        "core/v8/script_decoder.cc",
+      ], "abspath")
+
 if (is_win) {
   blink_core_sources_bindings +=
       get_path_info([ "core/v8/v8_initializer_win.cc" ], "abspath")
diff --git a/third_party/blink/renderer/bindings/core/v8/BUILD.gn b/third_party/blink/renderer/bindings/core/v8/BUILD.gn
index 0ecd0f36ee..1ae92a4b3b 100644
--- a/third_party/blink/renderer/bindings/core/v8/BUILD.gn
+++ b/third_party/blink/renderer/bindings/core/v8/BUILD.gn
@@ -30,7 +30,7 @@ blink_core_sources("v8") {
   ]
 }
 
-source_set("testing") {
+jumbo_source_set("testing") {
   testonly = true
 
   visibility = []
diff --git a/third_party/blink/renderer/bindings/core/v8/v8_binding_for_core.cc b/third_party/blink/renderer/bindings/core/v8/v8_binding_for_core.cc
index 54ed7f2666..a338bee333 100644
--- a/third_party/blink/renderer/bindings/core/v8/v8_binding_for_core.cc
+++ b/third_party/blink/renderer/bindings/core/v8/v8_binding_for_core.cc
@@ -75,6 +75,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/wtf_string.h"
 #include "third_party/blink/renderer/platform/wtf/threading.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 void V8SetReturnValue(const v8::PropertyCallbackInfo<v8::Value>& info,
@@ -901,3 +906,7 @@ void ApplyContextToException(ScriptState* script_state,
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/bindings/modules/v8/BUILD.gn b/third_party/blink/renderer/bindings/modules/v8/BUILD.gn
index 68250fe525..caae1cf983 100644
--- a/third_party/blink/renderer/bindings/modules/v8/BUILD.gn
+++ b/third_party/blink/renderer/bindings/modules/v8/BUILD.gn
@@ -31,7 +31,7 @@ blink_modules_sources("v8") {
   ]
 }
 
-source_set("testing") {
+jumbo_source_set("testing") {
   testonly = true
 
   visibility = []
diff --git a/third_party/blink/renderer/bindings/scripts/bind_gen/callback_interface.py b/third_party/blink/renderer/bindings/scripts/bind_gen/callback_interface.py
index dccf917762..bb11d3c783 100644
--- a/third_party/blink/renderer/bindings/scripts/bind_gen/callback_interface.py
+++ b/third_party/blink/renderer/bindings/scripts/bind_gen/callback_interface.py
@@ -185,6 +185,7 @@ def generate_callback_interface(callback_interface_identifier):
          cg_context,
          FN_INSTALL_INTERFACE_TEMPLATE,
          class_name=class_name,
+         api_class_name=class_name,
          trampoline_var_name=None,
          constructor_entries=[],
          supplemental_install_node=SequenceNode(),
diff --git a/third_party/blink/renderer/bindings/scripts/bind_gen/dictionary.py b/third_party/blink/renderer/bindings/scripts/bind_gen/dictionary.py
index 3ca42542b5..409c3941cc 100644
--- a/third_party/blink/renderer/bindings/scripts/bind_gen/dictionary.py
+++ b/third_party/blink/renderer/bindings/scripts/bind_gen/dictionary.py
@@ -708,7 +708,7 @@ def make_properties_array(cg_context):
         for member in cg_context.dictionary.own_members
     ])
     return ListNode([
-        T("const std::string_view kOwnPropertyNames[] = {"),
+        T("const std::string_view kOwnPropertyNames_{}[] = {{".format(cg_context.class_name)),
         properties,
         T("};"),
         EmptyNode(),
@@ -740,10 +740,10 @@ def make_fill_template_properties_function(cg_context):
 
     if cg_context.dictionary.own_members:
         body.extend([
-            T("static_assert(std::size(kOwnPropertyNames) "
+            T("static_assert(std::size(kOwnPropertyNames_{}) ".format(cg_context.class_name) +
               "== kOwnPropertyCount);"),
-            T("properties.AppendRange(std::cbegin(kOwnPropertyNames),"
-              " std::cend(kOwnPropertyNames));"),
+            T("properties.AppendRange(std::cbegin(kOwnPropertyNames_{}),".format(cg_context.class_name) +
+              " std::cend(kOwnPropertyNames_{}));".format(cg_context.class_name)),
             T("DCHECK_EQ(properties.size(), kTotalPropertyCount);")
         ])
 
@@ -996,7 +996,7 @@ def make_v8_own_member_names_function(cg_context):
     body.extend([
         TextNode("return V8PerIsolateData::From(${isolate})"
                  "->FindOrCreateEternalNameCache"
-                 "(kOwnPropertyNames, kOwnPropertyNames);"),
+                 "(kOwnPropertyNames_${class_name}, kOwnPropertyNames_${class_name});"),
     ])
 
     return func_decl, func_def
diff --git a/third_party/blink/renderer/bindings/scripts/bind_gen/interface.py b/third_party/blink/renderer/bindings/scripts/bind_gen/interface.py
index d490a10187..7984abf490 100644
--- a/third_party/blink/renderer/bindings/scripts/bind_gen/interface.py
+++ b/third_party/blink/renderer/bindings/scripts/bind_gen/interface.py
@@ -5305,7 +5305,7 @@ ${prototype_object}->Delete(
     return SequenceNode(nodes) if nodes else None
 
 
-def make_install_interface_template(cg_context, function_name, class_name,
+def make_install_interface_template(cg_context, function_name, class_name, api_class_name,
                                     trampoline_var_name, constructor_entries,
                                     supplemental_install_node,
                                     install_unconditional_func_name,
@@ -5438,7 +5438,7 @@ def make_install_interface_template(cg_context, function_name, class_name,
     for entry in constructor_entries:
         nodes = [
             FormatNode("${interface_function_template}->SetCallHandler({});",
-                       entry.ctor_callback_name),
+                       api_class_name + "Callbacks::" + entry.ctor_callback_name),
             FormatNode("${interface_function_template}->SetLength({});",
                        entry.ctor_func_length),
             FormatNode(
@@ -5486,7 +5486,7 @@ def make_install_interface_template(cg_context, function_name, class_name,
             T("""\
 // HTMLAllCollection-specific settings
 // https://html.spec.whatwg.org/C/#the-htmlallcollection-interface
-${instance_template}->SetCallAsFunctionHandler(ItemOperationCallback);
+${instance_template}->SetCallAsFunctionHandler(${class_name}Callbacks::ItemOperationCallback);
 ${instance_template}->MarkAsUndetectable();
 """))
 
@@ -5776,6 +5776,7 @@ ${instance_object} = ${v8_context}->Global();\
         if unconditional_entries:
             body.append(
                 CxxBlockNode([
+                    TextNode("using namespace ${class_name}Callbacks;"),
                     make_table_func(table_name, unconditional_entries),
                     TextNode(installer_call_text),
                 ]))
@@ -5785,6 +5786,7 @@ ${instance_object} = ${v8_context}->Global();\
                 CxxLikelyIfNode(cond=conditional,
                                 attribute=None,
                                 body=[
+                                    TextNode("using namespace ${class_name}Callbacks;"),
                                     make_table_func(table_name, entries),
                                     TextNode(installer_call_text),
                                 ]))
@@ -5963,6 +5965,8 @@ def make_indexed_and_named_property_callbacks_and_install_node(cg_context):
                 map(lambda flag: "int32_t({})".format(flag), flags))))
         pattern = """\
 // Named interceptors
+{{
+using namespace ${class_name}Callbacks;
 {interceptor_template}->SetHandler(
     v8::NamedPropertyHandlerConfiguration(
         {impl_bridge}::NamedPropertyGetterCallback,
@@ -5983,7 +5987,9 @@ interface.indexed_and_named_properties.named_getter.extended_attributes:
         {impl_bridge}::NamedPropertyDefinerCallback,
         {impl_bridge}::NamedPropertyDescriptorCallback,
         v8::Local<v8::Value>(),
-        {property_handler_flags}));"""
+        {property_handler_flags}));
+}}
+"""
         install_node.append(
             F(pattern,
               interceptor_template=interceptor_template,
@@ -6030,6 +6036,8 @@ interface.indexed_and_named_properties.named_getter.extended_attributes:
         property_handler_flags = flags[0]
         pattern = """\
 // Indexed interceptors
+{{
+using namespace ${class_name}Callbacks;
 {interceptor_template}->SetHandler(
     v8::IndexedPropertyHandlerConfiguration(
         {impl_bridge}::IndexedPropertyGetterCallback,
@@ -6044,7 +6052,8 @@ interface.indexed_and_named_properties.named_getter.extended_attributes:
         {impl_bridge}::IndexedPropertyDefinerCallback,
         {impl_bridge}::IndexedPropertyDescriptorCallback,
         v8::Local<v8::Value>(),
-        {property_handler_flags}));"""
+        {property_handler_flags}));
+}}"""
         install_node.append(
             F(pattern,
               interceptor_template=interceptor_template,
@@ -6200,6 +6209,8 @@ def make_cross_origin_property_callbacks_and_install_node(
 
     text = """\
 // Cross origin properties
+{{
+using namespace ${class_name}Callbacks;
 ${instance_template}->SetAccessCheckCallbackAndHandler(
     CrossOriginAccessCheckCallback,
     v8::NamedPropertyHandlerConfiguration(
@@ -6222,6 +6233,7 @@ ${instance_template}->SetAccessCheckCallbackAndHandler(
         CrossOriginIndexedDescriptorCallback,
         v8::Local<v8::Value>(),
         v8::PropertyHandlerFlags::kNone));
+}}
 """
     install_node.append(TextNode(text))
     install_node.accumulate(
@@ -6418,6 +6430,7 @@ def make_wrapper_type_info(cg_context, function_name,
         ]))
 
     pattern = """\
+namespace ${class_name}Callbacks {{ }}
 // Construction of WrapperTypeInfo may require non-trivial initialization due
 // to cross-component address resolution in order to load the pointer to the
 // parent interface's WrapperTypeInfo.  We ignore this issue because the issue
@@ -6617,6 +6630,7 @@ def _make_v8_context_snapshot_get_reference_table_function(
                                                                            )),
             filter(None, callback_names)))
     table_node = ListNode([
+        TextNode("using namespace ${class_name}Callbacks;"),
         TextNode("static const intptr_t kReferenceTable[] = {"),
         ListNode(entry_nodes),
         TextNode("};"),
@@ -6995,6 +7009,7 @@ def generate_class_like(class_like,
          cg_context,
          FN_INSTALL_INTERFACE_TEMPLATE,
          class_name=impl_class_name,
+         api_class_name=api_class_name,
          trampoline_var_name=tp_install_interface_template,
          constructor_entries=constructor_entries,
          supplemental_install_node=supplemental_install_node,
@@ -7244,7 +7259,7 @@ def generate_class_like(class_like,
                                                     class_like.identifier)
     impl_source_blink_ns.body.extend([
         CxxNamespaceNode(
-            name="",
+            name=api_class_name + "Callbacks",
             body=[
                 # Enclose the implementations with a namespace just in order to
                 # include the class_like name in a stacktrace, such as
diff --git a/third_party/blink/renderer/controller/BUILD.gn b/third_party/blink/renderer/controller/BUILD.gn
index 79cad3a8f1..de6cdc9825 100644
--- a/third_party/blink/renderer/controller/BUILD.gn
+++ b/third_party/blink/renderer/controller/BUILD.gn
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//build/config/ui.gni")
 import("//testing/test.gni")
 import("//third_party/blink/renderer/bindings/bindings.gni")
@@ -18,7 +19,7 @@ visibility = [
   "//third_party/blink/*",
 ]
 
-component("controller") {
+jumbo_component("controller") {
   output_name = "blink_controller"
 
   deps = [
@@ -195,7 +196,7 @@ test("blink_perf_tests") {
   deps = [ ":blink_perf_tests_sources" ]
 }
 
-source_set("blink_perf_tests_sources") {
+jumbo_source_set("blink_perf_tests_sources") {
   visibility = []  # Allow re-assignment of list.
   visibility = [ "*" ]
   testonly = true
@@ -244,7 +245,7 @@ source_set("blink_bindings_test_sources") {
   ]
 }
 
-source_set("blink_unittests_sources") {
+jumbo_source_set("blink_unittests_sources") {
   visibility = []  # Allow re-assignment of list.
   visibility = [ "*" ]
   testonly = true
diff --git a/third_party/blink/renderer/core/BUILD.gn b/third_party/blink/renderer/core/BUILD.gn
index 267e8ddfe2..41630d96c8 100644
--- a/third_party/blink/renderer/core/BUILD.gn
+++ b/third_party/blink/renderer/core/BUILD.gn
@@ -7,6 +7,7 @@ import("//build/config/arm.gni")
 import("//build/config/compiler/compiler.gni")
 import("//build/config/dcheck_always_on.gni")
 import("//build/config/python.gni")
+import("//build/config/jumbo.gni")
 import("//build/config/ui.gni")
 import("//build/nocompile.gni")
 import("//build/toolchain/toolchain.gni")
@@ -181,7 +182,7 @@ source_set("core_common") {
   sources = [ "core_export.h" ]
 }
 
-source_set("prerequisites") {
+jumbo_source_set("prerequisites") {
   public_deps = [
     "//services/network/public/cpp",
     "//services/network/public/mojom",
@@ -240,7 +241,7 @@ blink_python_runner("make_deprecation_info") {
   ]
 }
 
-component("core") {
+jumbo_component("core") {
   output_name = "blink_core"
 
   visibility = []  # Allow re-assignment of list.
@@ -250,8 +251,10 @@ component("core") {
     "core_initializer.cc",
     "core_initializer.h",
   ]
+  jumbo_excluded_sources = [ ]
 
   sources += blink_core_sources_bindings
+  jumbo_excluded_sources += blink_core_sources_bindings_jumbo_excluded
 
   # If you create a new subdirectory 'foo', make 'foo/build.gni' to define
   # blink_core_sources_foo, and include it here. Add any dependencies in the
@@ -450,6 +453,15 @@ component("core") {
     "//third_party/blink/renderer/core/url_pattern",
     "//third_party/blink/renderer/core/xml:xpath_generated",
   ]
+  jumbo_excluded_sources += rebase_path([ "attribution_reporting_to_mojom.cc" ], "", "fetch")
+  jumbo_excluded_sources += rebase_path([ "frame_fetch_context.cc" ], "", "loader")
+  jumbo_excluded_sources += rebase_path([ "image_loader.cc" ], "", "loader")
+  jumbo_excluded_sources += rebase_path([ "create_window.cc" ], "", "page")
+  jumbo_excluded_sources += rebase_path([ "link_highlight_impl.cc" ], "", "paint")
+  jumbo_excluded_sources += rebase_path([ "scroll_animator.cc" ], "", "scroll")
+
+  # Too many symbol confliction with `grid/grid_layout_algorithm.cc`
+  jumbo_excluded_sources += rebase_path([ "grid/grid_track_sizing_algorithm.cc" ], "", "layout")
 
   public_configs = [ ":core_include_dirs" ]
 
@@ -513,7 +525,7 @@ blink_core_sources("core_hot") {
   ]
 }
 
-source_set("testing") {
+jumbo_source_set("testing") {
   testonly = true
 
   configs += [
@@ -1319,7 +1331,7 @@ if (is_component_build) {
   core_generated_target_type = "static_library"
 }
 
-target(core_generated_target_type, "core_generated") {
+target("jumbo_" + core_generated_target_type, "core_generated") {
   # Add all sources generated by the targets above.
   sources = []
   foreach(current, targets_generating_sources) {
@@ -1413,7 +1425,7 @@ fuzzer_test("text_resource_decoder_fuzzer") {
   ]
 }
 
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   testonly = true
 
   # If you create a new subdirectory 'foo' that contains unit tests, list them in
@@ -1608,7 +1620,7 @@ group("gen_files_for_web_tests") {
   ]
 }
 
-source_set("perf_tests") {
+jumbo_source_set("perf_tests") {
   testonly = true
   sources = [
     "css/parser/css_parser_fast_paths_perftest.cc",
@@ -1635,7 +1647,7 @@ source_set("perf_tests") {
   ]
 }
 
-source_set("unit_test_support") {
+jumbo_source_set("unit_test_support") {
   testonly = true
   sources = [
     "css/css_test_helpers.cc",
diff --git a/third_party/blink/renderer/core/animation/BUILD.gn b/third_party/blink/renderer/core/animation/BUILD.gn
index 82a86bc705..e93d73cea5 100644
--- a/third_party/blink/renderer/core/animation/BUILD.gn
+++ b/third_party/blink/renderer/core/animation/BUILD.gn
@@ -322,6 +322,9 @@ blink_core_sources("animation") {
     "worklet_animation_controller.cc",
     "worklet_animation_controller.h",
   ]
+  jumbo_excluded_sources = [
+    "css_transform_interpolation_type.cc",
+  ]
 
   deps = [
     ":buildflags",
diff --git a/third_party/blink/renderer/core/animation/css_filter_list_interpolation_type.cc b/third_party/blink/renderer/core/animation/css_filter_list_interpolation_type.cc
index 4f41521dc2..794546f2de 100644
--- a/third_party/blink/renderer/core/animation/css_filter_list_interpolation_type.cc
+++ b/third_party/blink/renderer/core/animation/css_filter_list_interpolation_type.cc
@@ -18,6 +18,8 @@
 #include "third_party/blink/renderer/core/css/resolver/style_resolver_state.h"
 #include "third_party/blink/renderer/core/style/computed_style.h"
 
+#define AlwaysInvalidateChecker AlwaysInvalidateChecker_CSSFilterListInterpolationType
+
 namespace blink {
 
 namespace {
@@ -392,3 +394,5 @@ CSSFilterListInterpolationType::PerformAccumulativeComposition(
 }
 
 }  // namespace blink
+
+#undef AlwaysInvalidateChecker
diff --git a/third_party/blink/renderer/core/animation/css_gap_length_list_interpolation_type.cc b/third_party/blink/renderer/core/animation/css_gap_length_list_interpolation_type.cc
index c2f2fdc3c4..78f7b931a1 100644
--- a/third_party/blink/renderer/core/animation/css_gap_length_list_interpolation_type.cc
+++ b/third_party/blink/renderer/core/animation/css_gap_length_list_interpolation_type.cc
@@ -17,6 +17,8 @@
 #include "third_party/blink/renderer/core/css/resolver/style_resolver.h"
 #include "third_party/blink/renderer/core/style/gap_data_list.h"
 
+#define IsCompatible IsCompatible_CSSGapLengthListInterpolationType
+
 namespace blink {
 
 namespace {
@@ -431,3 +433,5 @@ void CSSGapLengthListInterpolationType::GetInitialLengthList(
 }
 
 }  // namespace blink
+
+#undef IsCompatible
diff --git a/third_party/blink/renderer/core/animation/css_length_interpolation_type.cc b/third_party/blink/renderer/core/animation/css_length_interpolation_type.cc
index 9b04df3727..f1a9fc629d 100644
--- a/third_party/blink/renderer/core/animation/css_length_interpolation_type.cc
+++ b/third_party/blink/renderer/core/animation/css_length_interpolation_type.cc
@@ -18,6 +18,8 @@
 #include "third_party/blink/renderer/core/style/computed_style.h"
 #include "third_party/blink/renderer/platform/geometry/length_functions.h"
 
+#define AlwaysInvalidateChecker AlwaysInvalidateChecker_CSSLengthInterpolationType
+
 namespace blink {
 
 CSSLengthInterpolationType::CSSLengthInterpolationType(
@@ -293,3 +295,5 @@ void CSSLengthInterpolationType::ApplyStandardPropertyValue(
 }
 
 }  // namespace blink
+
+#undef AlwaysInvalidateChecker
diff --git a/third_party/blink/renderer/core/animation/css_shape_interpolation_type.cc b/third_party/blink/renderer/core/animation/css_shape_interpolation_type.cc
index be67200634..26e50202b8 100644
--- a/third_party/blink/renderer/core/animation/css_shape_interpolation_type.cc
+++ b/third_party/blink/renderer/core/animation/css_shape_interpolation_type.cc
@@ -40,6 +40,11 @@
 #include "third_party/blink/renderer/platform/wtf/casting.h"
 #include "ui/gfx/geometry/point_f.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -869,3 +874,7 @@ PairwiseInterpolationValue CSSShapeInterpolationType::MaybeMergeSingles(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/core.gni b/third_party/blink/renderer/core/core.gni
index c885691ed0..3d7826c905 100644
--- a/third_party/blink/renderer/core/core.gni
+++ b/third_party/blink/renderer/core/core.gni
@@ -3,6 +3,7 @@
 # found in the LICENSE file.
 
 import("//build/config/chrome_build.gni")
+import("//build/config/jumbo.gni")
 import("//third_party/blink/renderer/config.gni")
 
 blink_core_output_dir = "$root_gen_dir/third_party/blink/renderer/core"
@@ -53,9 +54,9 @@ core_config_add += blink_symbols_config
 #      Normal meaning if defined. If undefined, defaults to everything in core.
 template("blink_core_sources") {
   if (is_component_build) {
-    target_type = "source_set"
+    target_type = "jumbo_source_set"
   } else {
-    target_type = "static_library"
+    target_type = "jumbo_static_library"
   }
   target(target_type, target_name) {
     # The visibility will get overridden by forward_variables_from below if the
diff --git a/third_party/blink/renderer/core/css/background_color_paint_image_generator.cc b/third_party/blink/renderer/core/css/background_color_paint_image_generator.cc
index 0891416a55..96872813e5 100644
--- a/third_party/blink/renderer/core/css/background_color_paint_image_generator.cc
+++ b/third_party/blink/renderer/core/css/background_color_paint_image_generator.cc
@@ -4,6 +4,8 @@
 
 #include "third_party/blink/renderer/core/css/background_color_paint_image_generator.h"
 
+#define g_create_function g_create_function_background_color_paint_image_generator
+
 namespace blink {
 
 namespace {
@@ -28,3 +30,5 @@ BackgroundColorPaintImageGenerator* BackgroundColorPaintImageGenerator::Create(
 }
 
 }  // namespace blink
+
+#undef g_create_function
diff --git a/third_party/blink/renderer/core/css/box_shadow_paint_image_generator.cc b/third_party/blink/renderer/core/css/box_shadow_paint_image_generator.cc
index 8554ef0667..a52dae973d 100644
--- a/third_party/blink/renderer/core/css/box_shadow_paint_image_generator.cc
+++ b/third_party/blink/renderer/core/css/box_shadow_paint_image_generator.cc
@@ -6,6 +6,8 @@
 
 #include "third_party/blink/renderer/core/frame/local_frame.h"
 
+#define g_create_function g_create_function_box_shadow_paint_image_generator
+
 namespace blink {
 
 namespace {
@@ -30,3 +32,5 @@ BoxShadowPaintImageGenerator* BoxShadowPaintImageGenerator::Create(
 }
 
 }  // namespace blink
+
+#undef g_create_function
diff --git a/third_party/blink/renderer/core/css/css_dynamic_range_limit_mix_value.cc b/third_party/blink/renderer/core/css/css_dynamic_range_limit_mix_value.cc
index 3783ddc5e9..a1638715ec 100644
--- a/third_party/blink/renderer/core/css/css_dynamic_range_limit_mix_value.cc
+++ b/third_party/blink/renderer/core/css/css_dynamic_range_limit_mix_value.cc
@@ -7,6 +7,11 @@
 #include "base/memory/values_equivalent.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_builder.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink::cssvalue {
 
 bool CSSDynamicRangeLimitMixValue::Equals(
@@ -47,3 +52,7 @@ void CSSDynamicRangeLimitMixValue::TraceAfterDispatch(
 }
 
 }  // namespace blink::cssvalue
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/css/css_numeric_literal_value.cc b/third_party/blink/renderer/core/css/css_numeric_literal_value.cc
index 9013e5ac24..51b03cd5b8 100644
--- a/third_party/blink/renderer/core/css/css_numeric_literal_value.cc
+++ b/third_party/blink/renderer/core/css/css_numeric_literal_value.cc
@@ -12,6 +12,11 @@
 #include "third_party/blink/renderer/platform/wtf/size_assertions.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_builder.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 struct SameSizeAsCSSNumericLiteralValue : CSSPrimitiveValue {
@@ -387,3 +392,7 @@ CSSNumericLiteralValue* CSSNumericLiteralValue::CreateCanonicalUnitValue()
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/css/css_property_value_set.cc b/third_party/blink/renderer/core/css/css_property_value_set.cc
index b69b53ce51..568c58e223 100644
--- a/third_party/blink/renderer/core/css/css_property_value_set.cc
+++ b/third_party/blink/renderer/core/css/css_property_value_set.cc
@@ -38,6 +38,11 @@
 #include <stdio.h>
 #endif
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 static AdditionalBytes
@@ -845,3 +850,7 @@ void CSSPropertyValueSet::ShowStyle() {
 #endif
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/css/css_syntax_definition.cc b/third_party/blink/renderer/core/css/css_syntax_definition.cc
index aa8b36f0da..786f0dc9b6 100644
--- a/third_party/blink/renderer/core/css/css_syntax_definition.cc
+++ b/third_party/blink/renderer/core/css/css_syntax_definition.cc
@@ -19,6 +19,11 @@
 #include "third_party/blink/renderer/core/css/properties/css_parsing_utils.h"
 #include "third_party/blink/renderer/core/html/parser/html_parser_idioms.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 namespace {
 
@@ -369,3 +374,7 @@ CSSSyntaxDefinition CSSSyntaxDefinition::CreateNumericSyntax() {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/css/css_unparsed_declaration_value.cc b/third_party/blink/renderer/core/css/css_unparsed_declaration_value.cc
index 1b3dc8f66c..26a1af99a2 100644
--- a/third_party/blink/renderer/core/css/css_unparsed_declaration_value.cc
+++ b/third_party/blink/renderer/core/css/css_unparsed_declaration_value.cc
@@ -4,6 +4,11 @@
 
 #include "third_party/blink/renderer/core/css/css_unparsed_declaration_value.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 void CSSUnparsedDeclarationValue::TraceAfterDispatch(
@@ -23,3 +28,7 @@ unsigned CSSUnparsedDeclarationValue::CustomHash() const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/css/parser/css_parser_fast_paths.cc b/third_party/blink/renderer/core/css/parser/css_parser_fast_paths.cc
index ec65daa360..c8ee586913 100644
--- a/third_party/blink/renderer/core/css/parser/css_parser_fast_paths.cc
+++ b/third_party/blink/renderer/core/css/parser/css_parser_fast_paths.cc
@@ -44,6 +44,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/character_visitor.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_to_number.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 static unsigned ParsePositiveDouble(base::span<const LChar> chars,
@@ -2236,3 +2241,7 @@ CSSValue* CSSParserFastPaths::MaybeParseValue(CSSPropertyID property_id,
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/css/parser/css_property_parser.cc b/third_party/blink/renderer/core/css/parser/css_property_parser.cc
index 6320b1f3cb..6bb904791f 100644
--- a/third_party/blink/renderer/core/css/parser/css_property_parser.cc
+++ b/third_party/blink/renderer/core/css/parser/css_property_parser.cc
@@ -24,6 +24,11 @@
 #include "third_party/blink/renderer/core/style_property_shorthand.h"
 #include "third_party/blink/renderer/platform/wtf/text/character_visitor.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 using css_parsing_utils::ConsumeIdent;
@@ -481,3 +486,7 @@ bool CSSPropertyParser::ParseFontFaceDescriptor(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/css/resolver/matched_properties_cache.cc b/third_party/blink/renderer/core/css/resolver/matched_properties_cache.cc
index 052812a97c..0aa1227408 100644
--- a/third_party/blink/renderer/core/css/resolver/matched_properties_cache.cc
+++ b/third_party/blink/renderer/core/css/resolver/matched_properties_cache.cc
@@ -43,6 +43,11 @@
 #include "third_party/blink/renderer/platform/heap/visitor.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_hasher.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 static unsigned ComputeMatchedPropertiesHash(const MatchResult& result) {
@@ -482,3 +487,7 @@ std::ostream& operator<<(std::ostream& stream,
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/css/resolver/style_builder_converter.cc b/third_party/blink/renderer/core/css/resolver/style_builder_converter.cc
index aaf3b23f63..0efd04666d 100644
--- a/third_party/blink/renderer/core/css/resolver/style_builder_converter.cc
+++ b/third_party/blink/renderer/core/css/resolver/style_builder_converter.cc
@@ -106,6 +106,11 @@
 #include "third_party/blink/renderer/platform/wtf/hash_map.h"
 #include "third_party/blink/renderer/platform/wtf/text/wtf_string.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 const double kFinalStatePercentage = 100.0;
@@ -4143,3 +4148,7 @@ ScopedCSSNameList* StyleBuilderConverter::ConvertTimelineTriggerName(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/css/selector_query.cc b/third_party/blink/renderer/core/css/selector_query.cc
index 86d0f36596..d8f0676402 100644
--- a/third_party/blink/renderer/core/css/selector_query.cc
+++ b/third_party/blink/renderer/core/css/selector_query.cc
@@ -51,6 +51,11 @@
 // Uncomment to run the SelectorQueryTests for stats in a release build.
 // #define RELEASE_QUERY_STATS
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 #if DCHECK_IS_ON() || defined(RELEASE_QUERY_STATS)
@@ -671,3 +676,7 @@ void SelectorQueryCache::Invalidate() {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/dom/element_data_cache.cc b/third_party/blink/renderer/core/dom/element_data_cache.cc
index 1dd46d827a..f09af66f18 100644
--- a/third_party/blink/renderer/core/dom/element_data_cache.cc
+++ b/third_party/blink/renderer/core/dom/element_data_cache.cc
@@ -29,6 +29,11 @@
 #include "base/compiler_specific.h"
 #include "third_party/blink/renderer/core/dom/element_data.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 inline unsigned AttributeHash(
@@ -73,3 +78,7 @@ void ElementDataCache::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/dom/presentation_attribute_style.cc b/third_party/blink/renderer/core/dom/presentation_attribute_style.cc
index 97325b069f..87bead9350 100644
--- a/third_party/blink/renderer/core/dom/presentation_attribute_style.cc
+++ b/third_party/blink/renderer/core/dom/presentation_attribute_style.cc
@@ -41,6 +41,11 @@
 #include "third_party/blink/renderer/platform/wtf/hash_functions.h"
 #include "third_party/blink/renderer/platform/wtf/hash_map.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 struct PresentationAttributeCacheKey {
@@ -179,3 +184,7 @@ CSSPropertyValueSet* ComputePresentationAttributeStyle(Element& element) {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/editing/finder/chunk_graph_utils.cc b/third_party/blink/renderer/core/editing/finder/chunk_graph_utils.cc
index c970e947a5..284ca35e4f 100644
--- a/third_party/blink/renderer/core/editing/finder/chunk_graph_utils.cc
+++ b/third_party/blink/renderer/core/editing/finder/chunk_graph_utils.cc
@@ -11,6 +11,11 @@
 #include "third_party/blink/renderer/core/style/computed_style.h"
 #include "third_party/blink/renderer/platform/wtf/text/character_names.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -429,3 +434,7 @@ BuildChunkGraph(const Node& first_visible_text_node,
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/editing/finder/find_results.cc b/third_party/blink/renderer/core/editing/finder/find_results.cc
index 4543efd45d..58031a00b3 100644
--- a/third_party/blink/renderer/core/editing/finder/find_results.cc
+++ b/third_party/blink/renderer/core/editing/finder/find_results.cc
@@ -4,6 +4,11 @@
 
 #include "third_party/blink/renderer/core/editing/finder/find_results.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 FindResults::FindResults() {
@@ -143,3 +148,7 @@ bool FindResults::Iterator::IsAtEnd() const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/editing/ime/edit_context.cc b/third_party/blink/renderer/core/editing/ime/edit_context.cc
index 91dc43cc1a..1550adccdf 100644
--- a/third_party/blink/renderer/core/editing/ime/edit_context.cc
+++ b/third_party/blink/renderer/core/editing/ime/edit_context.cc
@@ -37,6 +37,11 @@
 #include "ui/base/ime/ime_text_span.h"
 #include "ui/gfx/geometry/rect_conversions.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 EditContext::EditContext(ScriptState* script_state, const EditContextInit* dict)
@@ -931,3 +936,7 @@ void EditContext::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/editing/iterators/text_searcher_icu.cc b/third_party/blink/renderer/core/editing/iterators/text_searcher_icu.cc
index 304436dbfe..7b468adf6a 100644
--- a/third_party/blink/renderer/core/editing/iterators/text_searcher_icu.cc
+++ b/third_party/blink/renderer/core/editing/iterators/text_searcher_icu.cc
@@ -38,6 +38,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/utf16.h"
 #include "third_party/blink/renderer/platform/wtf/text/wtf_string.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -257,3 +262,7 @@ void TextSearcherICU::SetCaseSensitivity(bool case_sensitive) {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/execution_context/agent.cc b/third_party/blink/renderer/core/execution_context/agent.cc
index ee573a92e8..2f3baf7eb2 100644
--- a/third_party/blink/renderer/core/execution_context/agent.cc
+++ b/third_party/blink/renderer/core/execution_context/agent.cc
@@ -9,6 +9,8 @@
 #include "third_party/blink/renderer/core/dom/mutation_observer.h"
 #include "third_party/blink/renderer/core/execution_context/execution_context.h"
 
+#define is_isolated_context is_isolated_context_agent
+
 namespace blink {
 
 namespace {
@@ -148,3 +150,5 @@ void Agent::NotifyRejectedPromises() {
 }
 
 }  // namespace blink
+
+#undef is_isolated_context
diff --git a/third_party/blink/renderer/core/exported/web_bundled_code_cache_generator.cc b/third_party/blink/renderer/core/exported/web_bundled_code_cache_generator.cc
index 9b427522d3..0b7cd9305a 100644
--- a/third_party/blink/renderer/core/exported/web_bundled_code_cache_generator.cc
+++ b/third_party/blink/renderer/core/exported/web_bundled_code_cache_generator.cc
@@ -9,6 +9,11 @@
 #include "third_party/blink/renderer/bindings/core/v8/v8_code_cache.h"
 #include "third_party/blink/renderer/platform/loader/fetch/cached_metadata.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 WebBundledCodeCacheGenerator::SerializedCodeCacheData
@@ -55,3 +60,7 @@ WebBundledCodeCacheGenerator::CreateSerializedCodeCacheForModule(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/frame/frame_serializer.cc b/third_party/blink/renderer/core/frame/frame_serializer.cc
index 0d20126a2b..ad509d2dc9 100644
--- a/third_party/blink/renderer/core/frame/frame_serializer.cc
+++ b/third_party/blink/renderer/core/frame/frame_serializer.cc
@@ -111,6 +111,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/wtf_string.h"
 #include "third_party/blink/renderer/platform/wtf/uuid.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace internal {
@@ -1413,3 +1418,7 @@ String FrameSerializer::GetContentID(Frame* frame) {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/frame/local_frame_mojo_handler.cc b/third_party/blink/renderer/core/frame/local_frame_mojo_handler.cc
index 3a1da2ef67..8b4b48e393 100644
--- a/third_party/blink/renderer/core/frame/local_frame_mojo_handler.cc
+++ b/third_party/blink/renderer/core/frame/local_frame_mojo_handler.cc
@@ -82,6 +82,10 @@
 #include "ui/base/mojom/attributed_string.mojom-blink.h"
 #endif
 
+#define SourceFrameForOptionalToken         SourceFrameForOptionalToken_MojoHandler
+#define kFireInterval                       kFireInterval_MojoHandler
+#define kLargeAdSizeToViewportSizeThreshold kLargeAdSizeToViewportSizeThreshold_MojoHandler
+
 namespace blink {
 
 namespace {
@@ -1509,3 +1513,7 @@ void LocalFrameMojoHandler::UpdatePrerenderURL(
 }
 
 }  // namespace blink
+
+#undef SourceFrameForOptionalToken
+#undef kFireInterval
+#undef kLargeAdSizeToViewportSizeThreshold
diff --git a/third_party/blink/renderer/core/frame/overlay_interstitial_ad_detector.cc b/third_party/blink/renderer/core/frame/overlay_interstitial_ad_detector.cc
index 49ed8f6dcb..0a71a64cec 100644
--- a/third_party/blink/renderer/core/frame/overlay_interstitial_ad_detector.cc
+++ b/third_party/blink/renderer/core/frame/overlay_interstitial_ad_detector.cc
@@ -18,6 +18,9 @@
 #include "third_party/blink/renderer/core/paint/timing/paint_timing.h"
 #include "third_party/blink/renderer/core/scroll/scrollable_area.h"
 
+#define kFireInterval                       kFireInterval_OverlayInterstitialAdDetector
+#define kLargeAdSizeToViewportSizeThreshold kLargeAdSizeToViewportSizeThreshold_OverlayInterstitialAdDetector
+
 namespace blink {
 
 namespace {
@@ -234,3 +237,6 @@ void OverlayInterstitialAdDetector::OnPopupDetected(
 }
 
 }  // namespace blink
+
+#undef kFireInterval
+#undef kLargeAdSizeToViewportSizeThreshold
diff --git a/third_party/blink/renderer/core/frame/sticky_ad_detector.cc b/third_party/blink/renderer/core/frame/sticky_ad_detector.cc
index 8dd8e2c1e9..8eaa9917ae 100644
--- a/third_party/blink/renderer/core/frame/sticky_ad_detector.cc
+++ b/third_party/blink/renderer/core/frame/sticky_ad_detector.cc
@@ -20,6 +20,9 @@
 
 #include <cstdlib>
 
+#define kFireInterval                       kFireInterval_StickyAdDetector
+#define kLargeAdSizeToViewportSizeThreshold kLargeAdSizeToViewportSizeThreshold_StickyAdDetector
+
 namespace blink {
 
 namespace {
@@ -151,3 +154,6 @@ void StickyAdDetector::OnLargeStickyAdDetected(
 }
 
 }  // namespace blink
+
+#undef kFireInterval
+#undef kLargeAdSizeToViewportSizeThreshold
diff --git a/third_party/blink/renderer/core/html/anchor_element_metrics_sender.cc b/third_party/blink/renderer/core/html/anchor_element_metrics_sender.cc
index 29bb02707f..b9685f1c1b 100644
--- a/third_party/blink/renderer/core/html/anchor_element_metrics_sender.cc
+++ b/third_party/blink/renderer/core/html/anchor_element_metrics_sender.cc
@@ -32,6 +32,8 @@
 #include "third_party/blink/renderer/platform/widget/frame_widget.h"
 #include "ui/gfx/geometry/mojom/geometry.mojom-shared.h"
 
+#define ShouldReportViewportPositions ShouldReportViewportPositions_AnchorElementMetricsSender
+
 namespace blink {
 namespace {
 // Returns true if `document` should have an associated
@@ -630,3 +632,5 @@ void AnchorElementMetricsSender::AnchorPositionsUpdated(
 }
 
 }  // namespace blink
+
+#undef ShouldReportViewportPositions
diff --git a/third_party/blink/renderer/core/html/anchor_element_viewport_position_tracker.cc b/third_party/blink/renderer/core/html/anchor_element_viewport_position_tracker.cc
index 256a2d80ae..8a6c042b3b 100644
--- a/third_party/blink/renderer/core/html/anchor_element_viewport_position_tracker.cc
+++ b/third_party/blink/renderer/core/html/anchor_element_viewport_position_tracker.cc
@@ -26,6 +26,8 @@
 #include "third_party/blink/renderer/platform/graphics/dom_node_id.h"
 #include "third_party/blink/renderer/platform/widget/frame_widget.h"
 
+#define ShouldReportViewportPositions ShouldReportViewportPositions_AnchorElementViewportPositionTracker
+
 namespace blink {
 
 namespace {
@@ -464,3 +466,5 @@ void AnchorElementViewportPositionTracker::PostFCPDelayTimerFired(TimerBase*) {
 }
 
 }  // namespace blink
+
+#undef ShouldReportViewportPositions
diff --git a/third_party/blink/renderer/core/html/parser/html_parser_idioms.cc b/third_party/blink/renderer/core/html/parser/html_parser_idioms.cc
index 6700f4b081..3a1179ac32 100644
--- a/third_party/blink/renderer/core/html/parser/html_parser_idioms.cc
+++ b/third_party/blink/renderer/core/html/parser/html_parser_idioms.cc
@@ -35,6 +35,11 @@
 
 #include <limits>
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 String StripLeadingAndTrailingHTMLSpaces(const String& string) {
@@ -480,3 +485,7 @@ String AttemptStaticStringCreation(base::span<const UChar> characters,
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/html/track/audio_track_list.cc b/third_party/blink/renderer/core/html/track/audio_track_list.cc
index 7f7bf26076..08974870e3 100644
--- a/third_party/blink/renderer/core/html/track/audio_track_list.cc
+++ b/third_party/blink/renderer/core/html/track/audio_track_list.cc
@@ -5,6 +5,11 @@
 #include "third_party/blink/renderer/core/html/track/audio_track_list.h"
 #include "third_party/blink/renderer/core/event_target_names.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 AudioTrackList::~AudioTrackList() = default;
@@ -39,3 +44,7 @@ void AudioTrackList::TrackEnabled(const String& track_id, bool exclusive) {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/html/track/cue_timeline.cc b/third_party/blink/renderer/core/html/track/cue_timeline.cc
index a0acee2829..ccad139a8e 100644
--- a/third_party/blink/renderer/core/html/track/cue_timeline.cc
+++ b/third_party/blink/renderer/core/html/track/cue_timeline.cc
@@ -358,7 +358,7 @@ void CueTimeline::TimeMarchesOn() {
           is_enter_event ? event_type_names::kEnter : event_type_names::kExit;
       media_element.ScheduleEvent(
           CreateEventWithTarget(event_name, task.second.Get()));
-      if (features::IsTextBasedAudioDescriptionEnabled()) {
+      if (::features::IsTextBasedAudioDescriptionEnabled()) {
         if (is_enter_event) {
           cue->OnEnter(MediaElement());
         } else {
diff --git a/third_party/blink/renderer/core/html/track/text_track.cc b/third_party/blink/renderer/core/html/track/text_track.cc
index 26701d1aaa..7845625181 100644
--- a/third_party/blink/renderer/core/html/track/text_track.cc
+++ b/third_party/blink/renderer/core/html/track/text_track.cc
@@ -323,7 +323,7 @@ void TextTrack::InvalidateTrackIndex() {
 }
 
 bool TextTrack::IsRendered() const {
-  if (features::IsTextBasedAudioDescriptionEnabled()) {
+  if (::features::IsTextBasedAudioDescriptionEnabled()) {
     return mode_ == TextTrackMode::kShowing &&
            (IsVisualKind() || IsSpokenKind());
   }
@@ -333,7 +333,7 @@ bool TextTrack::IsRendered() const {
 bool TextTrack::CanBeRendered() const {
   // A track can be displayed when it's of kind captions, subtitles, or
   // descriptions and hasn't failed to load.
-  if (features::IsTextBasedAudioDescriptionEnabled()) {
+  if (::features::IsTextBasedAudioDescriptionEnabled()) {
     return GetReadinessState() != kFailedToLoad &&
            (IsVisualKind() || IsSpokenKind());
   }
diff --git a/third_party/blink/renderer/core/imagebitmap/image_bitmap.cc b/third_party/blink/renderer/core/imagebitmap/image_bitmap.cc
index 4f43f06dda..a2d196308f 100644
--- a/third_party/blink/renderer/core/imagebitmap/image_bitmap.cc
+++ b/third_party/blink/renderer/core/imagebitmap/image_bitmap.cc
@@ -57,6 +57,8 @@
 #include "third_party/skia/include/core/SkSurface.h"
 #include "third_party/skia/include/core/SkSwizzle.h"
 
+#define kImageBitmapOptionNone kImageBitmapOptionNone_ImageBitmap
+
 namespace blink {
 
 namespace {
@@ -767,3 +769,5 @@ gfx::SizeF ImageBitmap::ElementSize(
 }
 
 }  // namespace blink
+
+#undef kImageBitmapOptionNone
diff --git a/third_party/blink/renderer/core/imagebitmap/image_bitmap_source.cc b/third_party/blink/renderer/core/imagebitmap/image_bitmap_source.cc
index 78e4150cdb..bdabf22cf5 100644
--- a/third_party/blink/renderer/core/imagebitmap/image_bitmap_source.cc
+++ b/third_party/blink/renderer/core/imagebitmap/image_bitmap_source.cc
@@ -13,6 +13,8 @@
 #include "third_party/blink/renderer/platform/bindings/exception_state.h"
 #include "third_party/blink/renderer/platform/heap/garbage_collected.h"
 
+#define kImageBitmapOptionNone kImageBitmapOptionNone_ImageBitmapSource
+
 namespace blink {
 
 ScriptPromise<ImageBitmap> ImageBitmapSource::FulfillImageBitmap(
@@ -50,3 +52,5 @@ ScriptPromise<ImageBitmap> ImageBitmapSource::CreateImageBitmap(
 }
 
 }  // namespace blink
+
+#undef kImageBitmapOptionNone
diff --git a/third_party/blink/renderer/core/inspector/BUILD.gn b/third_party/blink/renderer/core/inspector/BUILD.gn
index 35d1fc42b1..15908128e8 100644
--- a/third_party/blink/renderer/core/inspector/BUILD.gn
+++ b/third_party/blink/renderer/core/inspector/BUILD.gn
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//third_party/blink/renderer/bindings/bindings.gni")
 import("//third_party/blink/renderer/core/core.gni")
 import("//third_party/inspector_protocol/inspector_protocol.gni")
@@ -96,7 +97,7 @@ inspector_protocol_generate("protocol_sources") {
 }
 
 # Compiles the sources generated above.
-source_set("generated") {
+jumbo_source_set("generated") {
   sources = get_target_outputs(":protocol_sources")
 
   configs -= core_config_remove
diff --git a/third_party/blink/renderer/core/inspector/inspector_css_parser_observer.cc b/third_party/blink/renderer/core/inspector/inspector_css_parser_observer.cc
index 09262add2a..dc471e387a 100644
--- a/third_party/blink/renderer/core/inspector/inspector_css_parser_observer.cc
+++ b/third_party/blink/renderer/core/inspector/inspector_css_parser_observer.cc
@@ -10,6 +10,8 @@
 #include "third_party/blink/renderer/core/html/parser/html_parser_idioms.h"
 #include "third_party/blink/renderer/core/inspector/inspector_audits_issue.h"
 
+#define ParserContextForDocument ParserContextForDocument_InspectorCSSParserObserver
+
 namespace blink {
 
 namespace {
@@ -504,3 +506,5 @@ const LineEndings* InspectorCSSParserObserver::GetLineEndings() {
 }
 
 }  // namespace blink
+
+#undef ParserContextForDocument
diff --git a/third_party/blink/renderer/core/inspector/inspector_style_sheet.cc b/third_party/blink/renderer/core/inspector/inspector_style_sheet.cc
index 5fdf29c351..62da7e1ea0 100644
--- a/third_party/blink/renderer/core/inspector/inspector_style_sheet.cc
+++ b/third_party/blink/renderer/core/inspector/inspector_style_sheet.cc
@@ -83,6 +83,8 @@
 
 using blink::protocol::Array;
 
+#define ParserContextForDocument ParserContextForDocument_InspectorStyleSheet
+
 namespace blink {
 
 namespace {
@@ -2552,3 +2554,5 @@ const Document* InspectorStyleSheetForInlineStyle::GetDocument() {
 }
 
 }  // namespace blink
+
+#undef ParserContextForDocument
diff --git a/third_party/blink/renderer/core/layout/flex/flex_layout_algorithm.cc b/third_party/blink/renderer/core/layout/flex/flex_layout_algorithm.cc
index d5964ef949..e5b024f985 100644
--- a/third_party/blink/renderer/core/layout/flex/flex_layout_algorithm.cc
+++ b/third_party/blink/renderer/core/layout/flex/flex_layout_algorithm.cc
@@ -42,6 +42,15 @@
 #include "third_party/blink/renderer/platform/text/writing_mode_utils.h"
 #include "third_party/blink/renderer/platform/wtf/vector.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
+#define AxisEdge            AxisEdge_FlexLayoutAlgorithm
+#define BaselineAccumulator BaselineAccumulator_FlexLayoutAlgorithm
+#define GapAccumulator      GapAccumulator_FlexLayoutAlgorithm
+
 namespace blink {
 
 namespace {
@@ -3425,3 +3434,11 @@ bool FlexLayoutAlgorithm::MinBlockSizeShouldEncompassIntrinsicSize(
 }
 
 }  // namespace blink
+
+#undef AxisEdge
+#undef BaselineAccumulator
+#undef GapAccumulator
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/layout/grid/grid_layout_algorithm.cc b/third_party/blink/renderer/core/layout/grid/grid_layout_algorithm.cc
index 5ca9e74de7..6f889a086a 100644
--- a/third_party/blink/renderer/core/layout/grid/grid_layout_algorithm.cc
+++ b/third_party/blink/renderer/core/layout/grid/grid_layout_algorithm.cc
@@ -18,6 +18,9 @@
 #include "third_party/blink/renderer/core/layout/logical_box_fragment.h"
 #include "third_party/blink/renderer/core/layout/relative_utils.h"
 
+#define BaselineAccumulator BaselineAccumulator_GridLayoutAlgorithm
+#define GapAccumulator      GapAccumulator_GridLayoutAlgorithm
+
 namespace blink {
 
 GridLayoutAlgorithm::GridLayoutAlgorithm(const LayoutAlgorithmParams& params)
@@ -3190,3 +3193,6 @@ LogicalRect GridLayoutAlgorithm::ComputeOutOfFlowItemContainingRect(
 }  // namespace blink
 
 WTF_ALLOW_CLEAR_UNUSED_SLOTS_WITH_MEM_FUNCTIONS(blink::ResultAndOffsets)
+
+#undef BaselineAccumulator
+#undef GapAccumulator
diff --git a/third_party/blink/renderer/core/layout/inline/fragment_items.cc b/third_party/blink/renderer/core/layout/inline/fragment_items.cc
index bba9f8b5fa..05e5a2f578 100644
--- a/third_party/blink/renderer/core/layout/inline/fragment_items.cc
+++ b/third_party/blink/renderer/core/layout/inline/fragment_items.cc
@@ -14,6 +14,11 @@
 #include "third_party/blink/renderer/platform/heap/collection_support/clear_collection_scope.h"
 #include "third_party/blink/renderer/platform/wtf/gc_plugin.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -607,3 +612,7 @@ void FragmentItems::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/layout/inline/inline_node.cc b/third_party/blink/renderer/core/layout/inline/inline_node.cc
index 9804f4397c..6a232a1501 100644
--- a/third_party/blink/renderer/core/layout/inline/inline_node.cc
+++ b/third_party/blink/renderer/core/layout/inline/inline_node.cc
@@ -61,6 +61,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/string_buffer.h"
 #include "third_party/blink/renderer/platform/wtf/text/text_offset_map.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -2316,3 +2321,7 @@ String InlineNode::ToString() const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/layout/inline/line_breaker.cc b/third_party/blink/renderer/core/layout/inline/line_breaker.cc
index bbc44ecea3..81dabe0bb5 100644
--- a/third_party/blink/renderer/core/layout/inline/line_breaker.cc
+++ b/third_party/blink/renderer/core/layout/inline/line_breaker.cc
@@ -38,6 +38,11 @@
 #include "third_party/blink/renderer/platform/text/bidi_paragraph.h"
 #include "third_party/blink/renderer/platform/text/character.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -4739,3 +4744,7 @@ const InlineBreakToken* LineBreaker::CreateBreakToken(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/layout/mathml/math_layout_utils.cc b/third_party/blink/renderer/core/layout/mathml/math_layout_utils.cc
index 2d9caa8289..631c89cb96 100644
--- a/third_party/blink/renderer/core/layout/mathml/math_layout_utils.cc
+++ b/third_party/blink/renderer/core/layout/mathml/math_layout_utils.cc
@@ -15,6 +15,8 @@
 #include "third_party/blink/renderer/core/mathml/mathml_scripts_element.h"
 #include "third_party/blink/renderer/core/mathml/mathml_token_element.h"
 
+#define IsPrescriptDelimiter IsPrescriptDelimiter_MathLayoutUtils
+
 namespace blink {
 
 ConstraintSpace CreateConstraintSpaceForMathChild(
@@ -431,3 +433,5 @@ bool IsStretchyOperator(const BlockNode& node, bool stretch_axis_is_vertical) {
 }
 
 }  // namespace blink
+
+#undef IsPrescriptDelimiter
diff --git a/third_party/blink/renderer/core/layout/mathml/math_scripts_layout_algorithm.cc b/third_party/blink/renderer/core/layout/mathml/math_scripts_layout_algorithm.cc
index 001936689f..b3e1cee389 100644
--- a/third_party/blink/renderer/core/layout/mathml/math_scripts_layout_algorithm.cc
+++ b/third_party/blink/renderer/core/layout/mathml/math_scripts_layout_algorithm.cc
@@ -10,6 +10,8 @@
 #include "third_party/blink/renderer/core/layout/mathml/math_layout_utils.h"
 #include "third_party/blink/renderer/platform/heap/collection_support/clear_collection_scope.h"
 
+#define IsPrescriptDelimiter IsPrescriptDelimiter_MathScriptsLayoutAlgorithm
+
 namespace blink {
 namespace {
 
@@ -500,3 +502,5 @@ MinMaxSizesResult MathScriptsLayoutAlgorithm::ComputeMinMaxSizes(
 }
 
 }  // namespace blink
+
+#undef IsPrescriptDelimiter
diff --git a/third_party/blink/renderer/core/layout/svg/layout_svg_ellipse.cc b/third_party/blink/renderer/core/layout/svg/layout_svg_ellipse.cc
index 895131376a..5b7949f510 100644
--- a/third_party/blink/renderer/core/layout/svg/layout_svg_ellipse.cc
+++ b/third_party/blink/renderer/core/layout/svg/layout_svg_ellipse.cc
@@ -31,6 +31,8 @@
 #include "third_party/blink/renderer/core/svg/svg_ellipse_element.h"
 #include "third_party/blink/renderer/core/svg/svg_length_functions.h"
 
+#define GeometryPropertiesChanged GeometryPropertiesChanged_LayoutSVGEllipse
+
 namespace blink {
 
 namespace {
@@ -176,3 +178,5 @@ bool LayoutSVGEllipse::HasContinuousStroke() const {
 }
 
 }  // namespace blink
+
+#undef GeometryPropertiesChanged
diff --git a/third_party/blink/renderer/core/layout/svg/layout_svg_rect.cc b/third_party/blink/renderer/core/layout/svg/layout_svg_rect.cc
index 869fb948ea..e7d3925366 100644
--- a/third_party/blink/renderer/core/layout/svg/layout_svg_rect.cc
+++ b/third_party/blink/renderer/core/layout/svg/layout_svg_rect.cc
@@ -31,6 +31,8 @@
 #include "third_party/blink/renderer/core/svg/svg_length_functions.h"
 #include "third_party/blink/renderer/core/svg/svg_rect_element.h"
 
+#define GeometryPropertiesChanged GeometryPropertiesChanged_LayoutSVGRect
+
 namespace blink {
 
 namespace {
@@ -158,3 +160,5 @@ bool LayoutSVGRect::DefinitelyHasSimpleStroke() const {
 }
 
 }  // namespace blink
+
+#undef GeometryPropertiesChanged
diff --git a/third_party/blink/renderer/core/layout/text_autosizer.cc b/third_party/blink/renderer/core/layout/text_autosizer.cc
index e223f6633f..eda0d46217 100644
--- a/third_party/blink/renderer/core/layout/text_autosizer.cc
+++ b/third_party/blink/renderer/core/layout/text_autosizer.cc
@@ -63,6 +63,11 @@
 #include "third_party/blink/renderer/platform/wtf/hash_functions.h"
 #include "ui/gfx/geometry/rect.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 namespace {
 struct FingerprintSourceData;
@@ -1633,3 +1638,7 @@ void TextAutosizer::FingerprintMapper::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/loader/alternate_signed_exchange_resource_info.cc b/third_party/blink/renderer/core/loader/alternate_signed_exchange_resource_info.cc
index 0405cf3c03..c99c9bee20 100644
--- a/third_party/blink/renderer/core/loader/alternate_signed_exchange_resource_info.cc
+++ b/third_party/blink/renderer/core/loader/alternate_signed_exchange_resource_info.cc
@@ -19,6 +19,11 @@
 #include "third_party/blink/renderer/platform/wtf/hash_functions.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_hash.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -180,3 +185,7 @@ AlternateSignedExchangeResourceInfo::FindMatchingEntry(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/loader/resource/multipart_image_resource_parser.cc b/third_party/blink/renderer/core/loader/resource/multipart_image_resource_parser.cc
index bf0d91bb1e..a01de8422b 100644
--- a/third_party/blink/renderer/core/loader/resource/multipart_image_resource_parser.cc
+++ b/third_party/blink/renderer/core/loader/resource/multipart_image_resource_parser.cc
@@ -12,6 +12,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/wtf_string.h"
 #include "third_party/blink/renderer/platform/wtf/wtf_size_t.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 MultipartImageResourceParser::MultipartImageResourceParser(
@@ -195,3 +200,7 @@ void MultipartImageResourceParser::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/paint/paint_property_tree_builder.cc b/third_party/blink/renderer/core/paint/paint_property_tree_builder.cc
index 4f5b70cd93..6120c33532 100644
--- a/third_party/blink/renderer/core/paint/paint_property_tree_builder.cc
+++ b/third_party/blink/renderer/core/paint/paint_property_tree_builder.cc
@@ -92,6 +92,8 @@
 #include "ui/gfx/geometry/transform.h"
 #include "ui/gfx/geometry/vector2d_conversions.h"
 
+#define IsLinkHighlighted IsLinkHighlighted_PaintPropertyTreeBuilder
+
 namespace blink {
 
 namespace {
@@ -4249,3 +4251,5 @@ bool PaintPropertyTreeBuilder::CanDoDeferredOpacityNodeUpdate(
 }
 
 }  // namespace blink
+
+#undef IsLinkHighlighted
diff --git a/third_party/blink/renderer/core/paint/pre_paint_tree_walk.cc b/third_party/blink/renderer/core/paint/pre_paint_tree_walk.cc
index 7da8567b6b..aa1bded98e 100644
--- a/third_party/blink/renderer/core/paint/pre_paint_tree_walk.cc
+++ b/third_party/blink/renderer/core/paint/pre_paint_tree_walk.cc
@@ -38,6 +38,8 @@
 #include "third_party/blink/renderer/core/timing/soft_navigation_paint_attribution_tracker.h"
 #include "third_party/blink/renderer/platform/runtime_enabled_features.h"
 
+#define IsLinkHighlighted IsLinkHighlighted_PrePaintTreeWalk
+
 namespace blink {
 
 namespace {
@@ -1459,3 +1461,5 @@ void PrePaintTreeWalk::Walk(const LayoutObject& object,
 }
 
 }  // namespace blink
+
+#undef IsLinkHighlighted
diff --git a/third_party/blink/renderer/core/script/document_modulator_impl.cc b/third_party/blink/renderer/core/script/document_modulator_impl.cc
index 4badbfcf43..a57d1bfe05 100644
--- a/third_party/blink/renderer/core/script/document_modulator_impl.cc
+++ b/third_party/blink/renderer/core/script/document_modulator_impl.cc
@@ -9,6 +9,11 @@
 #include "third_party/blink/renderer/core/script/import_map.h"
 #include "third_party/blink/renderer/platform/runtime_enabled_features.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -106,3 +111,7 @@ void DocumentModulatorImpl::AddModuleToResolvedModuleSet(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/speculation_rules/document_rule_predicate.cc b/third_party/blink/renderer/core/speculation_rules/document_rule_predicate.cc
index 1424fc7fbd..41daa8b7d1 100644
--- a/third_party/blink/renderer/core/speculation_rules/document_rule_predicate.cc
+++ b/third_party/blink/renderer/core/speculation_rules/document_rule_predicate.cc
@@ -24,6 +24,8 @@
 #include "third_party/blink/renderer/platform/wtf/text/strcat.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_builder.h"
 
+#define SetParseErrorMessage SetParseErrorMessage_DocumentRulePredicate
+
 namespace blink {
 
 namespace {
@@ -582,3 +584,5 @@ HeapVector<Member<StyleRule>> DocumentRulePredicate::GetStyleRulesForTesting()
 void DocumentRulePredicate::Trace(Visitor*) const {}
 
 }  // namespace blink
+
+#undef SetParseErrorMessage
diff --git a/third_party/blink/renderer/core/speculation_rules/speculation_rule_set.cc b/third_party/blink/renderer/core/speculation_rules/speculation_rule_set.cc
index a18b35ff8a..a35f6344e1 100644
--- a/third_party/blink/renderer/core/speculation_rules/speculation_rule_set.cc
+++ b/third_party/blink/renderer/core/speculation_rules/speculation_rule_set.cc
@@ -30,6 +30,8 @@
 #include "third_party/blink/renderer/platform/wtf/text/character_visitor.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_view.h"
 
+#define SetParseErrorMessage SetParseErrorMessage_SpeculationRuleSet
+
 namespace blink {
 
 namespace {
@@ -839,3 +841,5 @@ void SpeculationRuleSet::AddConsoleMessageForValidation(
 }
 
 }  // namespace blink
+
+#undef SetParseErrorMessage
diff --git a/third_party/blink/renderer/core/svg/svg_path_byte_stream.h b/third_party/blink/renderer/core/svg/svg_path_byte_stream.h
index 5b0b3bd742..6d70d5565c 100644
--- a/third_party/blink/renderer/core/svg/svg_path_byte_stream.h
+++ b/third_party/blink/renderer/core/svg/svg_path_byte_stream.h
@@ -26,6 +26,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/string_hasher.h"
 #include "third_party/blink/renderer/platform/wtf/vector.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 class SVGPathByteStream {
@@ -68,4 +73,8 @@ class SVGPathByteStream {
 
 }  // namespace blink
 
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
+
 #endif  // THIRD_PARTY_BLINK_RENDERER_CORE_SVG_SVG_PATH_BYTE_STREAM_H_
diff --git a/third_party/blink/renderer/core/svg/svg_view_spec.cc b/third_party/blink/renderer/core/svg/svg_view_spec.cc
index 1f4b21d976..b000ecbc2f 100644
--- a/third_party/blink/renderer/core/svg/svg_view_spec.cc
+++ b/third_party/blink/renderer/core/svg/svg_view_spec.cc
@@ -31,6 +31,8 @@
 #include "third_party/blink/renderer/platform/wtf/text/character_visitor.h"
 #include "third_party/blink/renderer/platform/wtf/text/parsing_utilities.h"
 
+#define kUnknown kUnknown_SVGViewSpec
+
 namespace blink {
 
 void SVGViewSpec::Trace(Visitor* visitor) const {
@@ -201,3 +203,5 @@ bool SVGViewSpec::ParseViewSpecInternal(base::span<const CharType> chars) {
 }
 
 }  // namespace blink
+
+#undef kUnknown
diff --git a/third_party/blink/renderer/core/timing/background_tracing_helper.cc b/third_party/blink/renderer/core/timing/background_tracing_helper.cc
index 15ad503a1b..a499762dc1 100644
--- a/third_party/blink/renderer/core/timing/background_tracing_helper.cc
+++ b/third_party/blink/renderer/core/timing/background_tracing_helper.cc
@@ -29,6 +29,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/string_to_number.h"
 #include "url/url_constants.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 uint32_t MD5Hash32ForBackgroundTracingHelper(std::string_view string) {
@@ -254,3 +259,7 @@ BackgroundTracingHelper::ParsePerformanceMarkSiteHashes(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/timing/performance_event_timing.cc b/third_party/blink/renderer/core/timing/performance_event_timing.cc
index 12b25ffde8..83d1633b15 100644
--- a/third_party/blink/renderer/core/timing/performance_event_timing.cc
+++ b/third_party/blink/renderer/core/timing/performance_event_timing.cc
@@ -15,6 +15,11 @@
 #include "third_party/blink/renderer/core/timing/performance.h"
 #include "third_party/blink/renderer/platform/instrumentation/tracing/traced_value.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 // static
@@ -400,3 +405,7 @@ bool PerformanceEventTiming::NeedsNextPaintMeasurement() const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/timing/responsiveness_metrics.cc b/third_party/blink/renderer/core/timing/responsiveness_metrics.cc
index 08406d2138..811fe144b0 100644
--- a/third_party/blink/renderer/core/timing/responsiveness_metrics.cc
+++ b/third_party/blink/renderer/core/timing/responsiveness_metrics.cc
@@ -32,6 +32,11 @@
 #include "third_party/perfetto/include/perfetto/tracing/track.h"
 #include "third_party/perfetto/include/perfetto/tracing/track_event.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -64,6 +69,10 @@ constexpr char kSlowInteractionToNextPaintTraceEventCategory[] = "latency";
 constexpr char kSlowInteractionToNextPaintTraceEventName[] =
     "SlowInteractionToNextPaint";
 
+} // namespace {
+
+namespace responsiveness_metrics {
+
 // These values are logged to UMA. Please keep in sync with
 // "EventTimingClickInteractionEvents" in tools/metrics/histograms/enums.xml.
 // LINT.IfChange
@@ -81,6 +90,10 @@ enum ClickInteractionEvents {
 };
 // LINT.ThenChange(/tools/metrics/histograms/enums.xml:EventTimingClickInteractionEvents)
 
+} // namespace responsiveness_metrics {
+
+namespace {
+
 void EmitSlowInteractionToNextPaintTraceEvent(
     const ResponsivenessMetrics::EventTimestamps& event,
     uint64_t event_id) {
@@ -274,6 +287,7 @@ void ResponsivenessMetrics::RecordTapOrClickUKM(
 bool ResponsivenessMetrics::SetPointerIdAndRecordLatency(
     PerformanceEventTiming* entry,
     EventTimestamps event_timestamps) {
+  using responsiveness_metrics::ClickInteractionEvents;
   const AtomicString& event_type = entry->name();
   auto pointer_id = entry->GetEventTimingReportingInfo()->pointer_id.value();
   auto* pointer_info = pointer_id_entry_map_.Contains(pointer_id)
@@ -801,3 +815,7 @@ bool ResponsivenessMetrics::TryHandleKeyboardEventSimulatedClick(
   return true;
 }
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/timing/soft_navigation_heuristics.cc b/third_party/blink/renderer/core/timing/soft_navigation_heuristics.cc
index b011a33c54..30b5c74004 100644
--- a/third_party/blink/renderer/core/timing/soft_navigation_heuristics.cc
+++ b/third_party/blink/renderer/core/timing/soft_navigation_heuristics.cc
@@ -60,6 +60,11 @@ const char
     kPageLoadInternalSoftNavigationNotEmittedInsufficientPaintTotalPaintAreaPercentage
         [] = "PageLoad.Internal.SoftNavigation.NotEmittedInsufficientPaint."
              "TotalPaintAreaPoints";
+
+} // namespace {
+
+namespace soft_navigation_heuristics {
+
 // These values are logged to UMA. Entries should not be renumbered and numeric
 // values should never be reused. Please keep in sync with
 // "SoftNavigationOutcome" in tools/metrics/histograms/enums.xml. Note also that
@@ -83,6 +88,10 @@ enum SoftNavigationOutcome {
 };
 // LINT.ThenChange(/tools/metrics/histograms/enums.xml:SoftNavigationOutcome)
 
+} // namespace soft_navigation_heuristics {
+
+namespace {
+
 void OnSoftNavigationContextWasExhausted(const SoftNavigationContext& context,
                                          uint64_t viewport_area,
                                          uint64_t required_paint_area) {
@@ -125,9 +134,11 @@ void OnSoftNavigationContextWasExhausted(const SoftNavigationContext& context,
         kPageLoadInternalSoftNavigationEmittedTotalPaintAreaPoints,
         base::saturated_cast<int>(points_val));
   } else if (!context.HasDomModification()) {
+    using namespace soft_navigation_heuristics;
     base::UmaHistogramEnumeration(kPageLoadInternalSoftNavigationOutcome,
                                   SoftNavigationOutcome::kNoDomModification);
   } else if (!context.SatisfiesSoftNavPaintCriteria(required_paint_area)) {
+    using namespace soft_navigation_heuristics;
     base::UmaHistogramEnumeration(kPageLoadInternalSoftNavigationOutcome,
                                   SoftNavigationOutcome::kInsufficientPaints);
     uint64_t total_paint_area = context.PaintedArea();
@@ -320,6 +331,7 @@ void SoftNavigationHeuristics::SameDocumentNavigationCommitted(
                         "SoftNavigationHeuristics::"
                         "SameDocumentNavigationCommittedWithoutContext",
                         perfetto::Track::FromPointer(this), "url", url);
+    using namespace soft_navigation_heuristics;
     base::UmaHistogramEnumeration(
         kPageLoadInternalSoftNavigationOutcome,
         SoftNavigationOutcome::kNoSoftNavContextDuringUrlChange);
@@ -337,6 +349,7 @@ void SoftNavigationHeuristics::SameDocumentNavigationCommitted(
                         "edIntoPreviousContext",
                         perfetto::Track::FromPointer(context), "context",
                         *context_for_current_url_, "url", url);
+    using namespace soft_navigation_heuristics;
     base::UmaHistogramEnumeration(
         kPageLoadInternalSoftNavigationOutcome,
         SoftNavigationOutcome::
@@ -584,6 +597,7 @@ void SoftNavigationHeuristics::ReportSoftNavigationToMetrics(
   }
 
   // Count "successful soft nav" in histogram
+  using soft_navigation_heuristics::SoftNavigationOutcome;
   base::UmaHistogramEnumeration(kPageLoadInternalSoftNavigationOutcome,
                                 SoftNavigationOutcome::kSoftNavigationDetected);
 }
diff --git a/third_party/blink/renderer/core/timing/window_performance.cc b/third_party/blink/renderer/core/timing/window_performance.cc
index c58b9bea3a..e4a20645b2 100644
--- a/third_party/blink/renderer/core/timing/window_performance.cc
+++ b/third_party/blink/renderer/core/timing/window_performance.cc
@@ -109,6 +109,11 @@
 static constexpr base::TimeDelta kLongTaskObserverThreshold =
     base::Milliseconds(50);
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -1616,3 +1621,7 @@ bool WindowPerformance::IsAutoscrollActive() {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/core/url_pattern/url_pattern_dummy_url_canon.cc b/third_party/blink/renderer/core/url_pattern/url_pattern_dummy_url_canon.cc
index 7d9bf5e67d..91f9228b7a 100644
--- a/third_party/blink/renderer/core/url_pattern/url_pattern_dummy_url_canon.cc
+++ b/third_party/blink/renderer/core/url_pattern/url_pattern_dummy_url_canon.cc
@@ -65,7 +65,7 @@ String MaybeStripAfterFirstDelimiter(const String& value,
 bool ContainsForbiddenHostnameCodePoint(const String& input,
                                         const bool allow_ipv6_delimiters) {
   StringUtf8Adaptor input_utf8(input);
-  return url_pattern::ContainsForbiddenHostnameCodePoint(
+  return ::url_pattern::ContainsForbiddenHostnameCodePoint(
       input_utf8.AsStringView(), allow_ipv6_delimiters);
 }
 
diff --git a/third_party/blink/renderer/modules/BUILD.gn b/third_party/blink/renderer/modules/BUILD.gn
index 0abfa024c8..343027cecf 100644
--- a/third_party/blink/renderer/modules/BUILD.gn
+++ b/third_party/blink/renderer/modules/BUILD.gn
@@ -25,7 +25,7 @@ config("modules_implementation") {
   defines = [ "BLINK_MODULES_IMPLEMENTATION=1" ]
 }
 
-component("modules") {
+jumbo_component("modules") {
   output_name = "blink_modules"
 
   visibility = []  # Allow re-assignment of list.
@@ -215,7 +215,7 @@ component("modules") {
   configs += blink_symbols_config
 }
 
-source_set("modules_testing") {
+jumbo_source_set("modules_testing") {
   testonly = true
 
   sources = [
@@ -394,7 +394,7 @@ blink_modules_sources("modules_generated") {
   }
 }
 
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   testonly = true
 
   sources = [
diff --git a/third_party/blink/renderer/modules/accessibility/ax_block_flow_iterator.cc b/third_party/blink/renderer/modules/accessibility/ax_block_flow_iterator.cc
index adf61cbc8a..f1c7eeab62 100644
--- a/third_party/blink/renderer/modules/accessibility/ax_block_flow_iterator.cc
+++ b/third_party/blink/renderer/modules/accessibility/ax_block_flow_iterator.cc
@@ -30,6 +30,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/string_view.h"
 #include "third_party/blink/renderer/platform/wtf/wtf_size_t.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -551,3 +556,7 @@ bool AXBlockFlowIterator::IsLineBreak() const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/accessibility/ax_object_cache_impl.cc b/third_party/blink/renderer/modules/accessibility/ax_object_cache_impl.cc
index 12b2f7048c..e2fba014f1 100644
--- a/third_party/blink/renderer/modules/accessibility/ax_object_cache_impl.cc
+++ b/third_party/blink/renderer/modules/accessibility/ax_object_cache_impl.cc
@@ -6951,3 +6951,5 @@ std::ostream& operator<<(std::ostream& stream, const AXObjectCacheImpl& cache) {
 }
 
 }  // namespace blink
+
+#undef DEBUG_STRING_CASE
diff --git a/third_party/blink/renderer/modules/accessibility/ax_object_cache_lifecycle.cc b/third_party/blink/renderer/modules/accessibility/ax_object_cache_lifecycle.cc
index b7e5c03061..8f27b05276 100644
--- a/third_party/blink/renderer/modules/accessibility/ax_object_cache_lifecycle.cc
+++ b/third_party/blink/renderer/modules/accessibility/ax_object_cache_lifecycle.cc
@@ -83,3 +83,5 @@ void AXObjectCacheLifecycle::EnsureStateAtMost(LifecycleState state) {
 }
 
 }  // namespace blink
+
+#undef DEBUG_STRING_CASE
diff --git a/third_party/blink/renderer/modules/bluetooth/bluetooth.cc b/third_party/blink/renderer/modules/bluetooth/bluetooth.cc
index ba932f1531..c4ad59115c 100644
--- a/third_party/blink/renderer/modules/bluetooth/bluetooth.cc
+++ b/third_party/blink/renderer/modules/bluetooth/bluetooth.cc
@@ -47,6 +47,8 @@
 #include "third_party/blink/renderer/platform/wtf/functional.h"
 #include "third_party/blink/renderer/platform/wtf/hash_map.h"
 
+#define kInactiveDocumentError kInactiveDocumentError_Bluetooth
+
 namespace blink {
 
 namespace {
@@ -679,3 +681,5 @@ void Bluetooth::EnsureServiceConnection(ExecutionContext* context) {
 }
 
 }  // namespace blink
+
+#undef kInactiveDocumentError
diff --git a/third_party/blink/renderer/modules/bluetooth/bluetooth_device.cc b/third_party/blink/renderer/modules/bluetooth/bluetooth_device.cc
index 92f17165cc..882b496a50 100644
--- a/third_party/blink/renderer/modules/bluetooth/bluetooth_device.cc
+++ b/third_party/blink/renderer/modules/bluetooth/bluetooth_device.cc
@@ -23,6 +23,8 @@
 #include "third_party/blink/renderer/platform/heap/persistent.h"
 #include "third_party/blink/renderer/platform/instrumentation/use_counter.h"
 
+#define kInactiveDocumentError kInactiveDocumentError_BluetoothDevice
+
 namespace blink {
 
 const char kAbortErrorMessage[] = "The Bluetooth operation was cancelled.";
@@ -273,3 +275,5 @@ void BluetoothDevice::WatchAdvertisementsCallback(
 }
 
 }  // namespace blink
+
+#undef kInactiveDocumentError
diff --git a/third_party/blink/renderer/modules/breakout_box/media_stream_audio_track_underlying_sink.cc b/third_party/blink/renderer/modules/breakout_box/media_stream_audio_track_underlying_sink.cc
index cad29b1693..1f8a13ab44 100644
--- a/third_party/blink/renderer/modules/breakout_box/media_stream_audio_track_underlying_sink.cc
+++ b/third_party/blink/renderer/modules/breakout_box/media_stream_audio_track_underlying_sink.cc
@@ -16,6 +16,8 @@
 #include "third_party/blink/renderer/platform/wtf/cross_thread_functional.h"
 #include "third_party/blink/renderer/platform/wtf/functional.h"
 
+#define TransferringOptimizer TransferringOptimizer_Audio
+
 namespace blink {
 
 namespace {
@@ -133,3 +135,5 @@ void MediaStreamAudioTrackUnderlyingSink::Disconnect() {
 }
 
 }  // namespace blink
+
+#undef TransferringOptimizer
diff --git a/third_party/blink/renderer/modules/breakout_box/media_stream_video_track_underlying_sink.cc b/third_party/blink/renderer/modules/breakout_box/media_stream_video_track_underlying_sink.cc
index 384b2bb3de..a224405e65 100644
--- a/third_party/blink/renderer/modules/breakout_box/media_stream_video_track_underlying_sink.cc
+++ b/third_party/blink/renderer/modules/breakout_box/media_stream_video_track_underlying_sink.cc
@@ -25,6 +25,8 @@
 #include "third_party/blink/renderer/platform/wtf/functional.h"
 #include "third_party/blink/renderer/platform/wtf/wtf.h"
 
+#define TransferringOptimizer TransferringOptimizer_Video
+
 namespace blink {
 
 namespace {
@@ -286,3 +288,5 @@ void MediaStreamVideoTrackUnderlyingSink::ConvertDone(
 }
 
 }  // namespace blink
+
+#undef TransferringOptimizer
diff --git a/third_party/blink/renderer/modules/canvas/BUILD.gn b/third_party/blink/renderer/modules/canvas/BUILD.gn
index 16ba800e7e..cebb1a99fb 100644
--- a/third_party/blink/renderer/modules/canvas/BUILD.gn
+++ b/third_party/blink/renderer/modules/canvas/BUILD.gn
@@ -58,6 +58,9 @@ blink_modules_sources("canvas") {
     "offscreencanvas2d/offscreen_canvas_rendering_context_2d.h",
     "testing/canvas_test_utils.cc",
   ]
+  jumbo_excluded_sources = [
+    "offscreencanvas2d/offscreen_canvas_rendering_context_2d.cc",
+  ]
 
   deps = [
     "//third_party/blink/renderer/modules/webcodecs",
diff --git a/third_party/blink/renderer/modules/credentialmanagement/credential.cc b/third_party/blink/renderer/modules/credentialmanagement/credential.cc
index dfe39e2d8c..3670219120 100644
--- a/third_party/blink/renderer/modules/credentialmanagement/credential.cc
+++ b/third_party/blink/renderer/modules/credentialmanagement/credential.cc
@@ -8,6 +8,11 @@
 #include "third_party/blink/renderer/platform/weborigin/kurl.h"
 #include "third_party/blink/renderer/platform/wtf/text/strcat.h"
 
+#define kDigitalCredentialType   kDigitalCredentialType_Credential
+#define kFederatedCredentialType kFederatedCredentialType_Credential
+#define kIdentityCredentialType  kIdentityCredentialType_Credential
+#define kOtpCredentialType       kOtpCredentialType_Credential
+
 namespace blink {
 
 namespace {
@@ -45,3 +50,8 @@ void Credential::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#undef kDigitalCredentialType
+#undef kFederatedCredentialType
+#undef kIdentityCredentialType
+#undef kOtpCredentialType
diff --git a/third_party/blink/renderer/modules/credentialmanagement/digital_credential.cc b/third_party/blink/renderer/modules/credentialmanagement/digital_credential.cc
index c8c677d23d..6691a13578 100644
--- a/third_party/blink/renderer/modules/credentialmanagement/digital_credential.cc
+++ b/third_party/blink/renderer/modules/credentialmanagement/digital_credential.cc
@@ -9,6 +9,8 @@
 #include "third_party/blink/renderer/platform/wtf/text/ascii_ctype.h"
 #include "third_party/blink/renderer/platform/wtf/text/character_names.h"
 
+#define kDigitalCredentialType kDigitalCredentialType_DigitalCredential
+
 namespace blink {
 
 namespace {
@@ -68,3 +70,5 @@ ScriptObject DigitalCredential::toJSON(ScriptState* script_state) const {
 }
 
 }  // namespace blink
+
+#undef kDigitalCredentialType
diff --git a/third_party/blink/renderer/modules/credentialmanagement/federated_credential.cc b/third_party/blink/renderer/modules/credentialmanagement/federated_credential.cc
index a1964aa7d0..82c0c307dc 100644
--- a/third_party/blink/renderer/modules/credentialmanagement/federated_credential.cc
+++ b/third_party/blink/renderer/modules/credentialmanagement/federated_credential.cc
@@ -17,6 +17,8 @@
 #include "third_party/blink/renderer/platform/bindings/exception_state.h"
 #include "third_party/blink/renderer/platform/wtf/wtf.h"
 
+#define kFederatedCredentialType kFederatedCredentialType_FederatedCredential
+
 namespace blink {
 
 namespace {
@@ -98,3 +100,5 @@ void SetIdpSigninStatus(const blink::LocalFrameToken& local_frame_token,
 }
 
 }  // namespace blink
+
+#undef kFederatedCredentialType
diff --git a/third_party/blink/renderer/modules/credentialmanagement/identity_credential.cc b/third_party/blink/renderer/modules/credentialmanagement/identity_credential.cc
index 43645fc560..8ad2887cc6 100644
--- a/third_party/blink/renderer/modules/credentialmanagement/identity_credential.cc
+++ b/third_party/blink/renderer/modules/credentialmanagement/identity_credential.cc
@@ -14,6 +14,8 @@
 #include "third_party/blink/renderer/modules/credentialmanagement/credential_manager_type_converters.h"
 #include "third_party/blink/renderer/platform/bindings/exception_state.h"
 
+#define kIdentityCredentialType kIdentityCredentialType_IdentityCredential
+
 namespace blink {
 
 namespace {
@@ -159,3 +161,5 @@ void IdentityCredential::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#undef kIdentityCredentialType
diff --git a/third_party/blink/renderer/modules/credentialmanagement/otp_credential.cc b/third_party/blink/renderer/modules/credentialmanagement/otp_credential.cc
index 517ef6eb15..2893367d23 100644
--- a/third_party/blink/renderer/modules/credentialmanagement/otp_credential.cc
+++ b/third_party/blink/renderer/modules/credentialmanagement/otp_credential.cc
@@ -7,6 +7,8 @@
 #include "third_party/blink/renderer/core/execution_context/execution_context.h"
 #include "third_party/blink/renderer/platform/bindings/exception_state.h"
 
+#define kOtpCredentialType kOtpCredentialType_OTPCredential
+
 namespace blink {
 
 namespace {
@@ -21,3 +23,5 @@ bool OTPCredential::IsOTPCredential() const {
 }
 
 }  // namespace blink
+
+#undef kOtpCredentialType
diff --git a/third_party/blink/renderer/modules/gamepad/BUILD.gn b/third_party/blink/renderer/modules/gamepad/BUILD.gn
index 9db32e0cc2..c01e8226f6 100644
--- a/third_party/blink/renderer/modules/gamepad/BUILD.gn
+++ b/third_party/blink/renderer/modules/gamepad/BUILD.gn
@@ -35,7 +35,7 @@ blink_modules_sources("gamepad") {
   ]
 }
 
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   testonly = true
   sources = [ "gamepad_comparisons_test.cc" ]
 
diff --git a/third_party/blink/renderer/modules/gamepad/gamepad.cc b/third_party/blink/renderer/modules/gamepad/gamepad.cc
index b5c598bdde..ba61a11a57 100644
--- a/third_party/blink/renderer/modules/gamepad/gamepad.cc
+++ b/third_party/blink/renderer/modules/gamepad/gamepad.cc
@@ -33,6 +33,11 @@
 #include "third_party/blink/renderer/modules/gamepad/gamepad_comparisons.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_builder.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 Gamepad::Gamepad(Client* client,
@@ -239,3 +244,7 @@ void Gamepad::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/gamepad/navigator_gamepad.cc b/third_party/blink/renderer/modules/gamepad/navigator_gamepad.cc
index 367a474f00..1ae772d0fc 100644
--- a/third_party/blink/renderer/modules/gamepad/navigator_gamepad.cc
+++ b/third_party/blink/renderer/modules/gamepad/navigator_gamepad.cc
@@ -45,6 +45,11 @@
 #include "third_party/blink/renderer/platform/privacy_budget/identifiability_digest_helpers.h"
 #include "third_party/blink/renderer/platform/wtf/text/atomic_string.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -442,3 +447,7 @@ void NavigatorGamepad::PageVisibilityChanged() {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/hid/BUILD.gn b/third_party/blink/renderer/modules/hid/BUILD.gn
index 2bf007a917..768e988305 100644
--- a/third_party/blink/renderer/modules/hid/BUILD.gn
+++ b/third_party/blink/renderer/modules/hid/BUILD.gn
@@ -18,7 +18,7 @@ blink_modules_sources("hid") {
   deps = [ "//services/device/public/cpp:device_features" ]
 }
 
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   testonly = true
   sources = [ "hid_device_test.cc" ]
 
diff --git a/third_party/blink/renderer/modules/hid/hid.cc b/third_party/blink/renderer/modules/hid/hid.cc
index 41f05e136a..c424f01c35 100644
--- a/third_party/blink/renderer/modules/hid/hid.cc
+++ b/third_party/blink/renderer/modules/hid/hid.cc
@@ -27,6 +27,8 @@
 #include "third_party/blink/renderer/modules/service_worker/service_worker_global_scope.h"
 #include "third_party/blink/renderer/platform/heap/garbage_collected.h"
 
+#define kContextGone kContextGone_HID
+
 namespace blink {
 
 namespace {
@@ -431,3 +433,5 @@ void HID::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#undef kContextGone
diff --git a/third_party/blink/renderer/modules/hid/hid_device.cc b/third_party/blink/renderer/modules/hid/hid_device.cc
index 339d065f73..f325f9a8bb 100644
--- a/third_party/blink/renderer/modules/hid/hid_device.cc
+++ b/third_party/blink/renderer/modules/hid/hid_device.cc
@@ -18,6 +18,8 @@
 #include "third_party/blink/renderer/platform/heap/garbage_collected.h"
 #include "third_party/blink/renderer/platform/wtf/functional.h"
 
+#define kContextGone kContextGone_HIDDevice
+
 namespace blink {
 
 namespace {
@@ -624,3 +626,5 @@ HIDReportItem* HIDDevice::ToHIDReportItem(
 }
 
 }  // namespace blink
+
+#undef kContextGone
diff --git a/third_party/blink/renderer/modules/imagecapture/image_capture_frame_grabber.cc b/third_party/blink/renderer/modules/imagecapture/image_capture_frame_grabber.cc
index 197ae7263c..9eb4194093 100644
--- a/third_party/blink/renderer/modules/imagecapture/image_capture_frame_grabber.cc
+++ b/third_party/blink/renderer/modules/imagecapture/image_capture_frame_grabber.cc
@@ -33,6 +33,11 @@
 #include "third_party/skia/include/core/SkImage.h"
 #include "third_party/skia/include/core/SkSurface.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 // Template specialization of [1], needed to be able to pass callbacks
@@ -376,3 +381,7 @@ void ImageCaptureFrameGrabber::OnTimeout() {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/media/BUILD.gn b/third_party/blink/renderer/modules/media/BUILD.gn
index c88bc2c7eb..64f98ebedc 100644
--- a/third_party/blink/renderer/modules/media/BUILD.gn
+++ b/third_party/blink/renderer/modules/media/BUILD.gn
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//third_party/blink/renderer/modules/modules.gni")
 
 blink_modules_sources("media") {
diff --git a/third_party/blink/renderer/modules/mediarecorder/BUILD.gn b/third_party/blink/renderer/modules/mediarecorder/BUILD.gn
index 29885ef93a..e660deaec6 100644
--- a/third_party/blink/renderer/modules/mediarecorder/BUILD.gn
+++ b/third_party/blink/renderer/modules/mediarecorder/BUILD.gn
@@ -34,6 +34,12 @@ blink_modules_sources("mediarecorder") {
     "video_track_recorder.cc",
     "video_track_recorder.h",
   ]
+  jumbo_excluded_sources = [
+    # redefinition of 'CrossThreadCopier<std::optional<std::vector<unsigned char>>>'
+    # `CrossThreadCopier<std::optional<media::AudioEncoder::CodecDescription>>` in `audio_track_recorder.cc`
+    # `CrossThreadCopier<std::optional<media::VideoEncoder::CodecDescription>>` in `video_track_recorder.cc`
+    "audio_track_recorder.cc",
+  ]
 
   deps = [
     "//media",
diff --git a/third_party/blink/renderer/modules/mediarecorder/video_track_recorder.cc b/third_party/blink/renderer/modules/mediarecorder/video_track_recorder.cc
index 9231f24311..80d7fbde1b 100644
--- a/third_party/blink/renderer/modules/mediarecorder/video_track_recorder.cc
+++ b/third_party/blink/renderer/modules/mediarecorder/video_track_recorder.cc
@@ -67,6 +67,11 @@
 using video_track_recorder::kVEAEncoderMinResolutionHeight;
 using video_track_recorder::kVEAEncoderMinResolutionWidth;
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 template <>
@@ -1181,3 +1186,7 @@ void VideoTrackRecorderPassthrough::HandleEncodedVideoFrame(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/mediastream/BUILD.gn b/third_party/blink/renderer/modules/mediastream/BUILD.gn
index 9bc2de3680..9166708dc6 100644
--- a/third_party/blink/renderer/modules/mediastream/BUILD.gn
+++ b/third_party/blink/renderer/modules/mediastream/BUILD.gn
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//third_party/blink/renderer/modules/modules.gni")
 
 blink_modules_sources("mediastream") {
@@ -129,6 +130,16 @@ blink_modules_sources("mediastream") {
     "webaudio_media_stream_audio_sink.cc",
     "webaudio_media_stream_audio_sink.h",
   ]
+
+  jumbo_excluded_sources = [
+    "input_device_info.cc",
+    "processed_local_audio_source.cc",
+    "user_media_processor.cc",
+
+    # redefinition of 'CrossThreadCopier<media::AudioParameters>'
+    "track_audio_renderer.cc",
+  ]
+
   deps = [
     "//build:chromecast_buildflags",
     "//media/capture/mojom:image_capture_blink",
@@ -145,7 +156,7 @@ blink_modules_sources("mediastream") {
   public_deps = [ "//media/capture:capture_lib" ]
 }
 
-source_set("test_support") {
+jumbo_source_set("test_support") {
   testonly = true
 
   sources = [
diff --git a/third_party/blink/renderer/modules/mediastream/web_media_player_ms_compositor.cc b/third_party/blink/renderer/modules/mediastream/web_media_player_ms_compositor.cc
index 54fae6c427..f2a9e4771a 100644
--- a/third_party/blink/renderer/modules/mediastream/web_media_player_ms_compositor.cc
+++ b/third_party/blink/renderer/modules/mediastream/web_media_player_ms_compositor.cc
@@ -42,6 +42,11 @@
 #include "third_party/libyuv/include/libyuv/video_common.h"
 #include "third_party/skia/include/core/SkSurface.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 template <typename T>
@@ -1016,3 +1021,7 @@ WebMediaPlayerMSCompositor::GetLastPresentedFrameMetadata() {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/ml/webnn/ml_graph.cc b/third_party/blink/renderer/modules/ml/webnn/ml_graph.cc
index 37aed5ec98..592fc55b21 100644
--- a/third_party/blink/renderer/modules/ml/webnn/ml_graph.cc
+++ b/third_party/blink/renderer/modules/ml/webnn/ml_graph.cc
@@ -236,3 +236,5 @@ void MLGraph::OnConnectionError() {
 }
 
 }  // namespace blink
+
+#undef THROW_AND_RETURN_IF_ERROR
diff --git a/third_party/blink/renderer/modules/ml/webnn/ml_graph_builder.cc b/third_party/blink/renderer/modules/ml/webnn/ml_graph_builder.cc
index 172f32c333..49fd2f7826 100644
--- a/third_party/blink/renderer/modules/ml/webnn/ml_graph_builder.cc
+++ b/third_party/blink/renderer/modules/ml/webnn/ml_graph_builder.cc
@@ -82,6 +82,11 @@
 #include "third_party/blink/renderer/platform/heap/persistent.h"
 #include "third_party/blink/renderer/platform/wtf/functional.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace blink_mojom = webnn::mojom::blink;
@@ -3478,3 +3483,9 @@ base::expected<void, String> MLGraphBuilder::ValidateInputs(
 }
 
 }  // namespace blink
+
+#undef THROW_AND_RETURN_IF_ERROR
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/modules.gni b/third_party/blink/renderer/modules/modules.gni
index 5b252edfd3..6f9aae8dd6 100644
--- a/third_party/blink/renderer/modules/modules.gni
+++ b/third_party/blink/renderer/modules/modules.gni
@@ -7,6 +7,7 @@
 # This file is shared with all modules' BUILD files which shouldn't need access
 # to the huge and slow lists of sources. If sharing is necessary, make a
 # separate .gni.
+import("//build/config/jumbo.gni")
 import("//third_party/blink/renderer/config.gni")
 blink_modules_output_dir = "$root_gen_dir/third_party/blink/renderer/modules"
 
@@ -25,7 +26,7 @@ template("blink_modules_sources") {
     target_type = "static_library"
   }
 
-  target(target_type, target_name) {
+  target("jumbo_" + target_type, target_name) {
     # The visibility will get overridden by forward_variables_from below if the
     # invoker defined it.
     visibility = [ "//third_party/blink/renderer/modules/*" ]
diff --git a/third_party/blink/renderer/modules/payments/payment_app_service_worker_registration.cc b/third_party/blink/renderer/modules/payments/payment_app_service_worker_registration.cc
index 8042183668..7197e7eb6a 100644
--- a/third_party/blink/renderer/modules/payments/payment_app_service_worker_registration.cc
+++ b/third_party/blink/renderer/modules/payments/payment_app_service_worker_registration.cc
@@ -10,6 +10,8 @@
 #include "third_party/blink/renderer/modules/service_worker/service_worker_registration.h"
 #include "third_party/blink/renderer/platform/bindings/script_state.h"
 
+#define AllowedToUsePaymentFeatures AllowedToUsePaymentFeatures_PaymentAppServiceWorkerRegistration
+
 namespace blink {
 namespace {
 
@@ -91,3 +93,5 @@ const char PaymentAppServiceWorkerRegistration::kSupplementName[] =
     "PaymentAppServiceWorkerRegistration";
 
 }  // namespace blink
+
+#undef AllowedToUsePaymentFeatures
diff --git a/third_party/blink/renderer/modules/peerconnection/BUILD.gn b/third_party/blink/renderer/modules/peerconnection/BUILD.gn
index d8ef825295..6ab6e5aa55 100644
--- a/third_party/blink/renderer/modules/peerconnection/BUILD.gn
+++ b/third_party/blink/renderer/modules/peerconnection/BUILD.gn
@@ -168,6 +168,12 @@ blink_modules_sources("peerconnection") {
     "webrtc_video_perf_reporter.h",
   ]
 
+  jumbo_excluded_sources = [
+    "peer_connection_tracker.cc",
+    "rtc_data_channel.cc",
+    "rtc_rtp_sender_impl.cc",
+  ]
+
   public_deps = [ "//third_party/webrtc_overrides:webrtc_component" ]
   deps = [
     "//build:chromecast_buildflags",
@@ -187,7 +193,7 @@ blink_modules_sources("peerconnection") {
       [ "//third_party/blink/renderer/modules/mediastream" ]
 }
 
-source_set("test_support") {
+jumbo_source_set("test_support") {
   testonly = true
 
   sources = [
diff --git a/third_party/blink/renderer/modules/permissions/BUILD.gn b/third_party/blink/renderer/modules/permissions/BUILD.gn
index 2e4b14e097..ab20f6efde 100644
--- a/third_party/blink/renderer/modules/permissions/BUILD.gn
+++ b/third_party/blink/renderer/modules/permissions/BUILD.gn
@@ -15,4 +15,5 @@ blink_modules_sources("permissions") {
     "permissions.cc",
     "permissions.h",
   ]
+  jumbo_excluded_sources = [ "permission_utils.cc" ]
 }
diff --git a/third_party/blink/renderer/modules/shared_storage/shared_storage_worklet.cc b/third_party/blink/renderer/modules/shared_storage/shared_storage_worklet.cc
index aeb8343ed4..5ac248c26c 100644
--- a/third_party/blink/renderer/modules/shared_storage/shared_storage_worklet.cc
+++ b/third_party/blink/renderer/modules/shared_storage/shared_storage_worklet.cc
@@ -34,6 +34,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/strcat.h"
 #include "url/origin.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -789,3 +794,7 @@ void SharedStorageWorklet::RunInternal(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/storage/BUILD.gn b/third_party/blink/renderer/modules/storage/BUILD.gn
index def668aa11..056722af5f 100644
--- a/third_party/blink/renderer/modules/storage/BUILD.gn
+++ b/third_party/blink/renderer/modules/storage/BUILD.gn
@@ -27,7 +27,7 @@ blink_modules_sources("storage") {
   ]
 }
 
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   testonly = true
   sources = [
     "cached_storage_area_test.cc",
diff --git a/third_party/blink/renderer/modules/storage_access/global_storage_access_handle.cc b/third_party/blink/renderer/modules/storage_access/global_storage_access_handle.cc
index ebeeafcfbe..cc7b4c474e 100644
--- a/third_party/blink/renderer/modules/storage_access/global_storage_access_handle.cc
+++ b/third_party/blink/renderer/modules/storage_access/global_storage_access_handle.cc
@@ -10,7 +10,9 @@
 
 namespace blink {
 
-using PassKey = base::PassKey<GlobalStorageAccessHandle>;
+using PassKey_GlobalStorageAccessHandle = base::PassKey<GlobalStorageAccessHandle>;
+
+#define PassKey PassKey_GlobalStorageAccessHandle
 
 // static
 const char GlobalStorageAccessHandle::kSupplementName[] =
@@ -218,3 +220,5 @@ void GlobalStorageAccessHandle::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#undef PassKey
diff --git a/third_party/blink/renderer/modules/storage_access/storage_access_handle.cc b/third_party/blink/renderer/modules/storage_access/storage_access_handle.cc
index e3ef922899..e57913d578 100644
--- a/third_party/blink/renderer/modules/storage_access/storage_access_handle.cc
+++ b/third_party/blink/renderer/modules/storage_access/storage_access_handle.cc
@@ -18,7 +18,9 @@
 
 namespace blink {
 
-using PassKey = base::PassKey<StorageAccessHandle>;
+using PassKey_StorageAccessHandle = base::PassKey<StorageAccessHandle>;
+
+#define PassKey PassKey_StorageAccessHandle
 
 // static
 const char StorageAccessHandle::kSupplementName[] = "StorageAccessHandle";
@@ -479,3 +481,5 @@ ExecutionContext* ExecutionContextFromV8Wrappable(
 }  // namespace bindings
 
 }  // namespace blink
+
+#undef PassKey
diff --git a/third_party/blink/renderer/modules/webaudio/analyser_handler.cc b/third_party/blink/renderer/modules/webaudio/analyser_handler.cc
index 0c16348a2c..6a313c5c2d 100644
--- a/third_party/blink/renderer/modules/webaudio/analyser_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/analyser_handler.cc
@@ -11,6 +11,9 @@
 #include "third_party/blink/renderer/platform/bindings/exception_state.h"
 #include "third_party/blink/renderer/platform/wtf/text/strcat.h"
 
+#define kDefaultNumberOfInputChannels  kDefaultNumberOfInputChannels_AnalyserHandler
+#define kDefaultNumberOfOutputChannels kDefaultNumberOfOutputChannels_AnalyserHandler
+
 namespace blink {
 
 namespace {
@@ -217,3 +220,6 @@ void AnalyserHandler::CheckNumberOfChannelsForInput(AudioNodeInput* input) {
 }
 
 }  // namespace blink
+
+#undef kDefaultNumberOfInputChannels
+#undef kDefaultNumberOfOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/audio_buffer_source_handler.cc b/third_party/blink/renderer/modules/webaudio/audio_buffer_source_handler.cc
index 80c1218d75..ae5a4c6913 100644
--- a/third_party/blink/renderer/modules/webaudio/audio_buffer_source_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/audio_buffer_source_handler.cc
@@ -20,6 +20,8 @@
 #include "third_party/blink/renderer/platform/wtf/math_extras.h"
 #include "third_party/fdlibm/ieee754.h"
 
+#define kDefaultNumberOfOutputChannels kDefaultNumberOfOutputChannels_AudioBufferSourceHandler
+
 namespace blink {
 
 namespace {
@@ -734,3 +736,5 @@ void AudioBufferSourceHandler::HandleStoppableSourceNode() {
 }
 
 }  // namespace blink
+
+#undef kDefaultNumberOfOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/audio_buffer_source_node.cc b/third_party/blink/renderer/modules/webaudio/audio_buffer_source_node.cc
index b01409155b..3441b334c6 100644
--- a/third_party/blink/renderer/modules/webaudio/audio_buffer_source_node.cc
+++ b/third_party/blink/renderer/modules/webaudio/audio_buffer_source_node.cc
@@ -40,6 +40,8 @@
 #include "third_party/blink/renderer/platform/wtf/math_extras.h"
 #include "third_party/fdlibm/ieee754.h"
 
+#define kDefaultDetuneValue kDefaultDetuneValue_AudioBufferSourceNode
+
 namespace blink {
 
 namespace {
@@ -195,3 +197,5 @@ void AudioBufferSourceNode::ReportWillBeDestroyed() {
 }
 
 }  // namespace blink
+
+#undef kDefaultDetuneValue
diff --git a/third_party/blink/renderer/modules/webaudio/audio_worklet_handler.cc b/third_party/blink/renderer/modules/webaudio/audio_worklet_handler.cc
index a414dcf6d0..0f294fa887 100644
--- a/third_party/blink/renderer/modules/webaudio/audio_worklet_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/audio_worklet_handler.cc
@@ -34,6 +34,8 @@
 #include "third_party/blink/renderer/platform/wtf/cross_thread_copier_base.h"
 #include "third_party/blink/renderer/platform/wtf/cross_thread_functional.h"
 
+#define kDefaultNumberOfOutputChannels kDefaultNumberOfOutputChannels_AudioWorkletHandler
+
 namespace blink {
 
 namespace {
@@ -291,3 +293,5 @@ void AudioWorkletHandler::MarkProcessorInactiveOnMainThread() {
 }
 
 }  // namespace blink
+
+#undef kDefaultNumberOfOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/biquad_filter_node.cc b/third_party/blink/renderer/modules/webaudio/biquad_filter_node.cc
index f640e4e954..5eeb4ac4fa 100644
--- a/third_party/blink/renderer/modules/webaudio/biquad_filter_node.cc
+++ b/third_party/blink/renderer/modules/webaudio/biquad_filter_node.cc
@@ -34,6 +34,8 @@
 #include "third_party/blink/renderer/platform/bindings/exception_messages.h"
 #include "third_party/blink/renderer/platform/bindings/exception_state.h"
 
+#define kDefaultDetuneValue kDefaultDetuneValue_BiquadFilterNode
+
 namespace blink {
 
 namespace {
@@ -240,3 +242,5 @@ void BiquadFilterNode::ReportWillBeDestroyed() {
 }
 
 }  // namespace blink
+
+#undef kDefaultDetuneValue
diff --git a/third_party/blink/renderer/modules/webaudio/constant_source_handler.cc b/third_party/blink/renderer/modules/webaudio/constant_source_handler.cc
index a428860ba8..be05124769 100644
--- a/third_party/blink/renderer/modules/webaudio/constant_source_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/constant_source_handler.cc
@@ -9,6 +9,8 @@
 #include "base/compiler_specific.h"
 #include "third_party/blink/renderer/modules/webaudio/audio_node_output.h"
 
+#define kNumberOfOutputChannels kNumberOfOutputChannels_ConstantSourceHandler
+
 namespace blink {
 
 namespace {
@@ -138,3 +140,5 @@ base::WeakPtr<AudioScheduledSourceHandler> ConstantSourceHandler::AsWeakPtr() {
 }
 
 }  // namespace blink
+
+#undef kNumberOfOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/convolver_handler.cc b/third_party/blink/renderer/modules/webaudio/convolver_handler.cc
index 27ccc8f158..58f2749f0e 100644
--- a/third_party/blink/renderer/modules/webaudio/convolver_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/convolver_handler.cc
@@ -18,6 +18,9 @@
 #include "third_party/blink/renderer/platform/bindings/exception_state.h"
 #include "third_party/blink/renderer/platform/wtf/text/strcat.h"
 
+#define kDefaultNumberOfInputChannels  kDefaultNumberOfInputChannels_ConvolverHandler
+#define kDefaultNumberOfOutputChannels kDefaultNumberOfOutputChannels_ConvolverHandler
+
 namespace blink {
 
 namespace {
@@ -322,3 +325,6 @@ void ConvolverHandler::CheckNumberOfChannelsForInput(AudioNodeInput* input) {
 }
 
 }  // namespace blink
+
+#undef kDefaultNumberOfInputChannels
+#undef kDefaultNumberOfOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/dynamics_compressor_handler.cc b/third_party/blink/renderer/modules/webaudio/dynamics_compressor_handler.cc
index 2fcb05a0a5..4d76df4c75 100644
--- a/third_party/blink/renderer/modules/webaudio/dynamics_compressor_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/dynamics_compressor_handler.cc
@@ -14,6 +14,8 @@
 #include "third_party/blink/renderer/platform/bindings/exception_messages.h"
 #include "third_party/blink/renderer/platform/bindings/exception_state.h"
 
+#define kDefaultNumberOfOutputChannels kDefaultNumberOfOutputChannels_DynamicsCompressorHandler
+
 namespace blink {
 
 namespace {
@@ -196,3 +198,5 @@ void DynamicsCompressorHandler::SetChannelCountMode(
 }
 
 }  // namespace blink
+
+#undef kDefaultNumberOfOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/gain_handler.cc b/third_party/blink/renderer/modules/webaudio/gain_handler.cc
index 5ae07797e7..5c9ba48b00 100644
--- a/third_party/blink/renderer/modules/webaudio/gain_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/gain_handler.cc
@@ -9,6 +9,8 @@
 #include "third_party/blink/renderer/platform/audio/audio_bus.h"
 #include "third_party/blink/renderer/platform/instrumentation/tracing/trace_event.h"
 
+#define kNumberOfOutputChannels kNumberOfOutputChannels_GainHandler
+
 namespace blink {
 
 namespace {
@@ -121,3 +123,5 @@ void GainHandler::CheckNumberOfChannelsForInput(AudioNodeInput* input) {
 }
 
 }  // namespace blink
+
+#undef kNumberOfOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/iir_filter_handler.cc b/third_party/blink/renderer/modules/webaudio/iir_filter_handler.cc
index 34168939d2..398653f61e 100644
--- a/third_party/blink/renderer/modules/webaudio/iir_filter_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/iir_filter_handler.cc
@@ -19,6 +19,8 @@
 #include "third_party/blink/renderer/platform/wtf/cross_thread_functional.h"
 #include "third_party/blink/renderer/platform/wtf/text/strcat.h"
 
+#define kDefaultNumberOfOutputChannels kDefaultNumberOfOutputChannels_IIRFilterHandler
+
 namespace blink {
 
 namespace {
@@ -272,3 +274,5 @@ void IIRFilterHandler::NotifyBadState() const {
 }
 
 }  // namespace blink
+
+#undef kDefaultNumberOfOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/media_element_audio_source_handler.cc b/third_party/blink/renderer/modules/webaudio/media_element_audio_source_handler.cc
index e303986f1e..d6ba22e47f 100644
--- a/third_party/blink/renderer/modules/webaudio/media_element_audio_source_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/media_element_audio_source_handler.cc
@@ -22,6 +22,8 @@
 #include "third_party/blink/renderer/platform/wtf/cross_thread_functional.h"
 #include "third_party/blink/renderer/platform/wtf/text/strcat.h"
 
+#define kDefaultNumberOfOutputChannels kDefaultNumberOfOutputChannels_MediaElementAudioSourceHandlerLocker
+
 namespace blink {
 
 namespace {
@@ -234,3 +236,5 @@ void MediaElementAudioSourceHandler::unlock() {
 }
 
 }  // namespace blink
+
+#undef kDefaultNumberOfOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/media_stream_audio_destination_node.cc b/third_party/blink/renderer/modules/webaudio/media_stream_audio_destination_node.cc
index e120777cd2..0e29570d72 100644
--- a/third_party/blink/renderer/modules/webaudio/media_stream_audio_destination_node.cc
+++ b/third_party/blink/renderer/modules/webaudio/media_stream_audio_destination_node.cc
@@ -40,6 +40,8 @@
 #include "third_party/blink/renderer/platform/wtf/text/strcat.h"
 #include "third_party/blink/renderer/platform/wtf/uuid.h"
 
+#define kDefaultNumberOfChannels kDefaultNumberOfChannels_MediaStreamAudioDestinationNode
+
 namespace blink {
 
 namespace {
@@ -175,3 +177,5 @@ void MediaStreamAudioDestinationNode::SendLogMessage(
 }
 
 }  // namespace blink
+
+#undef kDefaultNumberOfChannels
diff --git a/third_party/blink/renderer/modules/webaudio/media_stream_audio_source_handler.cc b/third_party/blink/renderer/modules/webaudio/media_stream_audio_source_handler.cc
index 4572155caf..cabf90c6eb 100644
--- a/third_party/blink/renderer/modules/webaudio/media_stream_audio_source_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/media_stream_audio_source_handler.cc
@@ -12,6 +12,8 @@
 #include "third_party/blink/renderer/modules/webaudio/base_audio_context.h"
 #include "third_party/blink/renderer/platform/instrumentation/tracing/trace_event.h"
 
+#define kDefaultNumberOfOutputChannels kDefaultNumberOfOutputChannels_MediaStreamAudioSourceHandler
+
 namespace blink {
 
 namespace {
@@ -136,3 +138,5 @@ void MediaStreamAudioSourceHandler::SendLogMessage(
 }
 
 }  // namespace blink
+
+#undef kDefaultNumberOfOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/offline_audio_worklet_thread.cc b/third_party/blink/renderer/modules/webaudio/offline_audio_worklet_thread.cc
index bd2958443a..04d7121ceb 100644
--- a/third_party/blink/renderer/modules/webaudio/offline_audio_worklet_thread.cc
+++ b/third_party/blink/renderer/modules/webaudio/offline_audio_worklet_thread.cc
@@ -8,6 +8,9 @@
 #include "third_party/blink/renderer/modules/webaudio/audio_worklet_global_scope.h"
 #include "third_party/blink/renderer/platform/instrumentation/tracing/trace_event.h"
 
+#define ref_count                 ref_count_offline_audio_worklet_thread
+#define EnsureSharedBackingThread EnsureSharedBackingThread_OfflineAudioWorkletThread
+
 namespace blink {
 
 namespace {
@@ -73,3 +76,6 @@ WorkerOrWorkletGlobalScope* OfflineAudioWorkletThread::CreateWorkerGlobalScope(
 }
 
 }  // namespace blink
+
+#undef ref_count
+#undef EnsureSharedBackingThread
diff --git a/third_party/blink/renderer/modules/webaudio/oscillator_handler.cc b/third_party/blink/renderer/modules/webaudio/oscillator_handler.cc
index 09d6a766ca..6192e46a6f 100644
--- a/third_party/blink/renderer/modules/webaudio/oscillator_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/oscillator_handler.cc
@@ -29,6 +29,8 @@
 #include "third_party/blink/renderer/platform/wtf/math_extras.h"
 #include "third_party/blink/renderer/platform/wtf/std_lib_extras.h"
 
+#define kNumberOfOutputChannels kNumberOfOutputChannels_OscillatorHandler
+
 namespace blink {
 
 namespace {
@@ -813,3 +815,5 @@ void OscillatorHandler::HandleStoppableSourceNode() {
 }
 
 }  // namespace blink
+
+#undef kNumberOfOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/panner_handler.cc b/third_party/blink/renderer/modules/webaudio/panner_handler.cc
index 4418eb461b..097b845df9 100644
--- a/third_party/blink/renderer/modules/webaudio/panner_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/panner_handler.cc
@@ -20,6 +20,9 @@
 #include "third_party/blink/renderer/platform/instrumentation/tracing/trace_event.h"
 #include "third_party/blink/renderer/platform/wtf/math_extras.h"
 
+#define kMinimumOutputChannels kMinimumOutputChannels_PannerHandler
+#define kMaximumOutputChannels kMaximumOutputChannels_PannerHandler
+
 namespace blink {
 
 namespace {
@@ -801,3 +804,6 @@ bool PannerHandler::RequiresTailProcessing() const {
 }
 
 }  // namespace blink
+
+#undef kMinimumOutputChannels
+#undef kMaximumOutputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/realtime_audio_destination_handler.cc b/third_party/blink/renderer/modules/webaudio/realtime_audio_destination_handler.cc
index a4d8931880..af6831ca4a 100644
--- a/third_party/blink/renderer/modules/webaudio/realtime_audio_destination_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/realtime_audio_destination_handler.cc
@@ -27,6 +27,8 @@
 #include "third_party/blink/renderer/platform/instrumentation/tracing/trace_event.h"
 #include "third_party/blink/renderer/platform/wtf/cross_thread_copier_base.h"
 
+#define kDefaultNumberOfInputChannels kDefaultNumberOfInputChannels_RealtimeAudioDestinationHandler
+
 namespace blink {
 
 namespace {
@@ -555,3 +557,5 @@ void RealtimeAudioDestinationHandler::SendLogMessage(
 }
 
 }  // namespace blink
+
+#undef kDefaultNumberOfInputChannels
diff --git a/third_party/blink/renderer/modules/webaudio/semi_realtime_audio_worklet_thread.cc b/third_party/blink/renderer/modules/webaudio/semi_realtime_audio_worklet_thread.cc
index 6fdc6a038f..88266906eb 100644
--- a/third_party/blink/renderer/modules/webaudio/semi_realtime_audio_worklet_thread.cc
+++ b/third_party/blink/renderer/modules/webaudio/semi_realtime_audio_worklet_thread.cc
@@ -10,6 +10,9 @@
 #include "third_party/blink/renderer/modules/webaudio/audio_worklet_global_scope.h"
 #include "third_party/blink/renderer/platform/instrumentation/tracing/trace_event.h"
 
+#define ref_count                 ref_count_semi_realtime_audio_worklet_thread
+#define EnsureSharedBackingThread EnsureSharedBackingThread_SemiRealtimeAudioWorkletThread
+
 namespace blink {
 
 namespace {
@@ -83,3 +86,6 @@ SemiRealtimeAudioWorkletThread::CreateWorkerGlobalScope(
 }
 
 }  // namespace blink
+
+#undef ref_count
+#undef EnsureSharedBackingThread
diff --git a/third_party/blink/renderer/modules/webaudio/stereo_panner_handler.cc b/third_party/blink/renderer/modules/webaudio/stereo_panner_handler.cc
index 775dceb62d..8ad858dd72 100644
--- a/third_party/blink/renderer/modules/webaudio/stereo_panner_handler.cc
+++ b/third_party/blink/renderer/modules/webaudio/stereo_panner_handler.cc
@@ -15,6 +15,9 @@
 #include "third_party/blink/renderer/platform/bindings/exception_state.h"
 #include "third_party/blink/renderer/platform/wtf/math_extras.h"
 
+#define kMinimumOutputChannels kMinimumOutputChannels_StereoPannerHandler
+#define kMaximumOutputChannels kMaximumOutputChannels_StereoPannerHandler
+
 namespace blink {
 
 namespace {
@@ -166,3 +169,6 @@ void StereoPannerHandler::SetChannelCountMode(V8ChannelCountMode::Enum mode,
 }
 
 }  // namespace blink
+
+#undef kMinimumOutputChannels
+#undef kMaximumOutputChannels
diff --git a/third_party/blink/renderer/modules/webcodecs/BUILD.gn b/third_party/blink/renderer/modules/webcodecs/BUILD.gn
index d3cac25f9b..ac00064754 100644
--- a/third_party/blink/renderer/modules/webcodecs/BUILD.gn
+++ b/third_party/blink/renderer/modules/webcodecs/BUILD.gn
@@ -98,6 +98,11 @@ blink_modules_sources("webcodecs") {
     "webcodecs_logger.cc",
     "webcodecs_logger.h",
   ]
+  jumbo_excluded_sources = [
+    "video_decoder_broker.cc",
+    "video_encoder.cc",
+    "video_frame.cc",
+  ]
   deps = [
     "//media",
     "//media/mojo:buildflags",
diff --git a/third_party/blink/renderer/modules/webcodecs/audio_encoder.cc b/third_party/blink/renderer/modules/webcodecs/audio_encoder.cc
index 686b607cb5..21cb7765e1 100644
--- a/third_party/blink/renderer/modules/webcodecs/audio_encoder.cc
+++ b/third_party/blink/renderer/modules/webcodecs/audio_encoder.cc
@@ -40,6 +40,8 @@
 #include "third_party/blink/renderer/platform/wtf/cross_thread_functional.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_builder.h"
 
+#define kCategory kCategory_AudioEncoder
+
 namespace blink {
 
 namespace {
@@ -697,3 +699,5 @@ DOMException* AudioEncoder::MakeEncodingError(std::string error_msg,
 }
 
 }  // namespace blink
+
+#undef kCategory
diff --git a/third_party/blink/renderer/modules/webcodecs/background_readback.cc b/third_party/blink/renderer/modules/webcodecs/background_readback.cc
index bcf5cda440..c72cb33881 100644
--- a/third_party/blink/renderer/modules/webcodecs/background_readback.cc
+++ b/third_party/blink/renderer/modules/webcodecs/background_readback.cc
@@ -30,6 +30,11 @@
 #include "third_party/blink/renderer/platform/wtf/thread_safe_ref_counted.h"
 #include "third_party/perfetto/include/perfetto/tracing/track.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace {
 bool CanUseRgbReadback(media::VideoFrame& frame) {
   return media::IsRGB(frame.format()) && frame.HasSharedImage();
@@ -388,3 +393,7 @@ bool SyncReadbackThread::ReadbackToBuffer(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/webcodecs/decoder_template.cc b/third_party/blink/renderer/modules/webcodecs/decoder_template.cc
index d7c8f8c6e5..32e1f690ff 100644
--- a/third_party/blink/renderer/modules/webcodecs/decoder_template.cc
+++ b/third_party/blink/renderer/modules/webcodecs/decoder_template.cc
@@ -46,6 +46,9 @@
 #include "third_party/blink/renderer/platform/wtf/functional.h"
 #include "third_party/perfetto/include/perfetto/tracing/track.h"
 
+#define kCategory                   kCategory_DecoderTemplate
+#define g_sequence_num_for_counters g_sequence_num_for_counters_decoder_template
+
 namespace blink {
 
 namespace {
@@ -935,3 +938,6 @@ template class DecoderTemplate<AudioDecoderTraits>;
 template class DecoderTemplate<VideoDecoderTraits>;
 
 }  // namespace blink
+
+#undef kCategory
+#undef g_sequence_num_for_counters
diff --git a/third_party/blink/renderer/modules/webcodecs/encoder_base.cc b/third_party/blink/renderer/modules/webcodecs/encoder_base.cc
index 3e5d6b936c..91aeb2c9d5 100644
--- a/third_party/blink/renderer/modules/webcodecs/encoder_base.cc
+++ b/third_party/blink/renderer/modules/webcodecs/encoder_base.cc
@@ -41,6 +41,9 @@
 #include "third_party/blink/renderer/platform/scheduler/public/thread.h"
 #include "third_party/blink/renderer/platform/wtf/cross_thread_functional.h"
 
+#define kCategory                   kCategory_EncoderBase
+#define g_sequence_num_for_counters g_sequence_num_for_counters_encoder_base
+
 namespace blink {
 
 namespace {
@@ -509,3 +512,6 @@ template class EncoderBase<VideoEncoderTraits>;
 template class EncoderBase<AudioEncoderTraits>;
 
 }  // namespace blink
+
+#undef kCategory
+#undef g_sequence_num_for_counters
diff --git a/third_party/blink/renderer/modules/webgl/webgl2_rendering_context_base.cc b/third_party/blink/renderer/modules/webgl/webgl2_rendering_context_base.cc
index 7c42a1de1b..2ca0791a20 100644
--- a/third_party/blink/renderer/modules/webgl/webgl2_rendering_context_base.cc
+++ b/third_party/blink/renderer/modules/webgl/webgl2_rendering_context_base.cc
@@ -40,6 +40,11 @@
 #include "third_party/blink/renderer/platform/heap/garbage_collected.h"
 #include "third_party/blink/renderer/platform/wtf/text/wtf_string.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 // Populates all parameters for texImage2D, including width, height, depth (set
 // to 1), and border. Many callers will need to zero-out border in order to
 // preserve existing behavior (see https://crbug.com/1313604).
@@ -5898,3 +5903,10 @@ void WebGL2RenderingContextBase::
 }
 
 }  // namespace blink
+
+#undef POPULATE_TEX_IMAGE_2D_PARAMS
+#undef POPULATE_TEX_SUB_IMAGE_2D_PARAMS
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc b/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
index 2f853871f4..9ea7764cf2 100644
--- a/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
+++ b/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
@@ -156,6 +156,13 @@
 #include "third_party/skia/include/core/SkImage.h"
 #include "ui/gfx/geometry/size.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
+#define GetErrorString GetErrorString_WebGLRenderingContextBase
+
 // Populates parameters from texImage2D except for border, width, height, and
 // depth (which are not present for all texImage2D functions).
 #define POPULATE_TEX_IMAGE_2D_PARAMS(params, src_type) \
@@ -9390,3 +9397,12 @@ bool WebGLRenderingContextBase::checkProgramCompletionQueryAvailable(
   return false;
 }
 }  // namespace blink
+
+#undef POPULATE_TEX_IMAGE_2D_PARAMS
+#undef POPULATE_TEX_SUB_IMAGE_2D_PARAMS
+
+#undef GetErrorString
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/webgpu/BUILD.gn b/third_party/blink/renderer/modules/webgpu/BUILD.gn
index 90b629c559..40db715663 100644
--- a/third_party/blink/renderer/modules/webgpu/BUILD.gn
+++ b/third_party/blink/renderer/modules/webgpu/BUILD.gn
@@ -106,6 +106,8 @@ blink_modules_sources("webgpu") {
     "wgsl_language_features.cc",
     "wgsl_language_features.h",
   ]
+  jumbo_excluded_sources = [ "dawn_enum_conversions.cc" ]
+
   deps = [
     "//gpu/command_buffer/client:webgpu_interface",
     "//services/metrics/public/cpp:ukm_builders",
diff --git a/third_party/blink/renderer/modules/webrtc/BUILD.gn b/third_party/blink/renderer/modules/webrtc/BUILD.gn
index f06918f31a..e87c5354b0 100644
--- a/third_party/blink/renderer/modules/webrtc/BUILD.gn
+++ b/third_party/blink/renderer/modules/webrtc/BUILD.gn
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//third_party/blink/renderer/modules/modules.gni")
 
 blink_modules_sources("webrtc") {
diff --git a/third_party/blink/renderer/modules/webtransport/BUILD.gn b/third_party/blink/renderer/modules/webtransport/BUILD.gn
index e5865de824..70e678bee6 100644
--- a/third_party/blink/renderer/modules/webtransport/BUILD.gn
+++ b/third_party/blink/renderer/modules/webtransport/BUILD.gn
@@ -25,7 +25,7 @@ blink_modules_sources("webtransport") {
   ]
 }
 
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   testonly = true
   sources = [
     "bidirectional_stream_test.cc",
diff --git a/third_party/blink/renderer/modules/xr/xr_gpu_binding.cc b/third_party/blink/renderer/modules/xr/xr_gpu_binding.cc
index ef1e615934..d4fccf6371 100644
--- a/third_party/blink/renderer/modules/xr/xr_gpu_binding.cc
+++ b/third_party/blink/renderer/modules/xr/xr_gpu_binding.cc
@@ -27,6 +27,13 @@
 #include "ui/gfx/geometry/size_conversions.h"
 #include "ui/gfx/geometry/size_f.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
+#define kMinScaleFactor kMinScaleFactor_GPU
+
 namespace blink {
 
 namespace {
@@ -285,3 +292,9 @@ void XRGPUBinding::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#undef kMinScaleFactor
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/xr/xr_webgl_binding.cc b/third_party/blink/renderer/modules/xr/xr_webgl_binding.cc
index 7347c91f80..c42e5d9b8a 100644
--- a/third_party/blink/renderer/modules/xr/xr_webgl_binding.cc
+++ b/third_party/blink/renderer/modules/xr/xr_webgl_binding.cc
@@ -40,6 +40,13 @@
 #include "ui/gfx/geometry/size_conversions.h"
 #include "ui/gfx/geometry/size_f.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
+#define kMinScaleFactor kMinScaleFactor_WebGL
+
 namespace blink {
 
 namespace {
@@ -810,3 +817,9 @@ void XRWebGLBinding::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#undef kMinScaleFactor
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/modules/xr/xr_webgl_texture_array_swap_chain.cc b/third_party/blink/renderer/modules/xr/xr_webgl_texture_array_swap_chain.cc
index e2287f38b2..ddc53cbda4 100644
--- a/third_party/blink/renderer/modules/xr/xr_webgl_texture_array_swap_chain.cc
+++ b/third_party/blink/renderer/modules/xr/xr_webgl_texture_array_swap_chain.cc
@@ -9,6 +9,11 @@
 #include "third_party/blink/renderer/modules/webgl/webgl_texture.h"
 #include "third_party/blink/renderer/platform/graphics/accelerated_static_bitmap_image.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -272,3 +277,7 @@ void XRWebGLTextureArraySwapChain::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/BUILD.gn b/third_party/blink/renderer/platform/BUILD.gn
index 589dd18b99..d65ab808e7 100644
--- a/third_party/blink/renderer/platform/BUILD.gn
+++ b/third_party/blink/renderer/platform/BUILD.gn
@@ -6,6 +6,7 @@
 import("//build/buildflag_header.gni")
 import("//build/compiled_action.gni")
 import("//build/config/compiler/compiler.gni")
+import("//build/config/jumbo.gni")
 import("//build/config/ui.gni")
 import("//build/nocompile.gni")
 import("//media/media_options.gni")
@@ -346,7 +347,7 @@ source_set("image_headers") {
   ]
 }
 
-component("platform") {
+jumbo_component("platform") {
   visibility = []  # Allow re-assignment of list.
   visibility = [
     "//third_party/blink/*",
@@ -1702,6 +1703,23 @@ component("platform") {
     ]
   }
 
+  jumbo_excluded_sources = [
+    "bindings/parkable_string_manager.cc",
+    "mediastream/media_stream_audio_source.cc",
+    "mediastream/media_stream_audio_track.cc",
+    "peerconnection/rtc_video_decoder_adapter.cc",
+    "peerconnection/rtc_video_decoder_factory.cc",
+
+    # 'dawn::wire::client::Device' conflicts with 'wgpu::Device'
+    "graphics/gpu/dawn_control_client_holder.cc",
+    "graphics/gpu/webgpu_mailbox_texture.cc",
+    "graphics/gpu/webgpu_swap_buffer_provider.cc",
+    "graphics/gpu/webgpu_texture_alpha_clearer.cc",
+
+    # FIXME(chongyun): scoped_refptr?
+    "graphics/canvas_resource_dispatcher.cc",
+  ]
+
   if (is_mac) {
     sources += [
       "audio/mac/fft_frame_mac.cc",
@@ -1986,7 +2004,7 @@ component("platform") {
   configs += blink_symbols_config
 }
 
-static_library("test_support") {
+jumbo_static_library("test_support") {
   visibility += [ "//third_party/blink/*" ]
   testonly = true
 
   configs += blink_symbols_config
 }
 
@@ -2180,7 +2198,7 @@ if (enable_nocompile_tests) {
   }
 }
 
-source_set("blink_platform_unittests_sources") {
+jumbo_source_set("blink_platform_unittests_sources") {
   visibility = []  # Allow re-assignment of list.
   visibility = [ "*" ]
   testonly = true
@@ -2695,7 +2713,7 @@ test("blink_fuzzer_unittests") {
 
 # This source set is used for fuzzers that need an environment similar to unit
 # tests.
-source_set("blink_fuzzer_test_support") {
+jumbo_source_set("blink_fuzzer_test_support") {
   testonly = true
   visibility = []  # Allow re-assignment of list.
   visibility = [ "*" ]
@@ -3021,7 +3039,7 @@ blink_text_codec_fuzzer("WINDOWS_1252") {
 # NOTE: These are legacy unit tests and tests that require a Platform
 # object. Do not add more unless the test requires a Platform object.
 # These tests are a part of the blink_unittests binary.
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   testonly = true
   visibility = []
   visibility = [ "//third_party/blink/renderer/*" ]
diff --git a/third_party/blink/renderer/platform/audio/audio_destination_uma_reporter.cc b/third_party/blink/renderer/platform/audio/audio_destination_uma_reporter.cc
index 3d774139bb..eb893a78af 100644
--- a/third_party/blink/renderer/platform/audio/audio_destination_uma_reporter.cc
+++ b/third_party/blink/renderer/platform/audio/audio_destination_uma_reporter.cc
@@ -8,6 +8,11 @@
 #include "base/strings/strcat.h"
 #include "base/strings/string_util.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -214,3 +219,7 @@ int AudioDestinationUmaReporter::PercentOfCallbackInterval(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/audio/hrtf_database.cc b/third_party/blink/renderer/platform/audio/hrtf_database.cc
index a6c3d89b1c..b8c377ef80 100644
--- a/third_party/blink/renderer/platform/audio/hrtf_database.cc
+++ b/third_party/blink/renderer/platform/audio/hrtf_database.cc
@@ -35,6 +35,8 @@
 #include "third_party/blink/public/resources/grit/blink_resources.h"
 #include "third_party/blink/renderer/platform/wtf/math_extras.h"
 
+#define kInterpolationFactor kInterpolationFactor_HRTFDatabase
+
 namespace blink {
 
 namespace {
@@ -136,3 +138,5 @@ void HRTFDatabase::GetKernelsFromAzimuthElevation(double azimuth_blend,
 }
 
 }  // namespace blink
+
+#undef kInterpolationFactor
diff --git a/third_party/blink/renderer/platform/audio/hrtf_elevation.cc b/third_party/blink/renderer/platform/audio/hrtf_elevation.cc
index 0e2a1c4a03..3d776f6df9 100644
--- a/third_party/blink/renderer/platform/audio/hrtf_elevation.cc
+++ b/third_party/blink/renderer/platform/audio/hrtf_elevation.cc
@@ -43,6 +43,8 @@
 #include "third_party/blink/renderer/platform/audio/hrtf_panner.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_hash.h"
 
+#define kInterpolationFactor kInterpolationFactor_HRTFElevation
+
 namespace blink {
 
 namespace {
@@ -367,3 +369,5 @@ void HRTFElevation::GetKernelsFromAzimuth(double azimuth_blend,
 }
 
 }  // namespace blink
+
+#undef kInterpolationFactor
diff --git a/third_party/blink/renderer/platform/bindings/to_blink_string.cc b/third_party/blink/renderer/platform/bindings/to_blink_string.cc
index 44911ccdbb..a2996f2cee 100644
--- a/third_party/blink/renderer/platform/bindings/to_blink_string.cc
+++ b/third_party/blink/renderer/platform/bindings/to_blink_string.cc
@@ -9,6 +9,11 @@
 #include "third_party/blink/renderer/platform/bindings/string_resource.h"
 #include "third_party/blink/renderer/platform/bindings/v8_binding.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -373,3 +378,7 @@ String ToBlinkString(int value) {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/blob/BUILD.gn b/third_party/blink/renderer/platform/blob/BUILD.gn
index 53a9123fab..c76e8f1e34 100644
--- a/third_party/blink/renderer/platform/blob/BUILD.gn
+++ b/third_party/blink/renderer/platform/blob/BUILD.gn
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//third_party/blink/renderer/platform/platform.gni")
 
 # Intentionally depends on generator targets so to depend only on generated
@@ -10,7 +11,7 @@ import("//third_party/blink/renderer/platform/platform.gni")
 # There is no tool to detect missing indirect generated header dependency today
 # and this is easy to be broken when mojom files are updated to depend on
 # another.
-source_set("generator") {
+jumbo_source_set("generator") {
   public_deps = [
     "//third_party/blink/public/mojom:mojom_platform_blink_headers",
     "//url/mojom:url_mojom_gurl_blink_headers",
@@ -39,7 +40,7 @@ blink_platform_sources("blob") {
   ]
 }
 
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   visibility = [ "//third_party/blink/renderer/platform:*" ]
   testonly = true
 
@@ -60,7 +61,7 @@ source_set("unit_tests") {
   ]
 }
 
-source_set("test_support") {
+jumbo_source_set("test_support") {
   # This target defines test files for platform:test_support that
   # blink_platform_unittests and blink_unittests can use.
   visibility = [ "//third_party/blink/renderer/platform:test_support" ]
diff --git a/third_party/blink/renderer/platform/fonts/font_cache_key.h b/third_party/blink/renderer/platform/fonts/font_cache_key.h
index a4ebcfdb61..008809a428 100644
--- a/third_party/blink/renderer/platform/fonts/font_cache_key.h
+++ b/third_party/blink/renderer/platform/fonts/font_cache_key.h
@@ -46,6 +46,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/atomic_string_hash.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_hash.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 // Multiplying the floating point size by 100 gives two decimal point
@@ -178,4 +183,8 @@ struct std::hash<blink::FontCacheKey> {
   }
 };
 
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
+
 #endif  // THIRD_PARTY_BLINK_RENDERER_PLATFORM_FONTS_FONT_CACHE_KEY_H_
diff --git a/third_party/blink/renderer/platform/fonts/font_face_creation_params.h b/third_party/blink/renderer/platform/fonts/font_face_creation_params.h
index 70e191c695..6dd2c223f8 100644
--- a/third_party/blink/renderer/platform/fonts/font_face_creation_params.h
+++ b/third_party/blink/renderer/platform/fonts/font_face_creation_params.h
@@ -38,6 +38,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/case_folding_hash.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_hasher.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 enum FontFaceCreationType {
@@ -172,4 +177,8 @@ class FontFaceCreationParams {
 
 }  // namespace blink
 
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
+
 #endif  // THIRD_PARTY_BLINK_RENDERER_PLATFORM_FONTS_FONT_FACE_CREATION_PARAMS_H_
diff --git a/third_party/blink/renderer/platform/fonts/font_selection_types.cc b/third_party/blink/renderer/platform/fonts/font_selection_types.cc
index 743dea20bd..e742e2ad14 100644
--- a/third_party/blink/renderer/platform/fonts/font_selection_types.cc
+++ b/third_party/blink/renderer/platform/fonts/font_selection_types.cc
@@ -27,6 +27,11 @@
 
 #include "third_party/blink/renderer/platform/wtf/text/string_hasher.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 unsigned FontSelectionRequest::GetHash() const {
@@ -62,3 +67,7 @@ String FontSelectionRequest::ToString() const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/fonts/opentype/open_type_baseline_metrics.cc b/third_party/blink/renderer/platform/fonts/opentype/open_type_baseline_metrics.cc
index 1f8f9e2fca..cbf52d83f4 100644
--- a/third_party/blink/renderer/platform/fonts/opentype/open_type_baseline_metrics.cc
+++ b/third_party/blink/renderer/platform/fonts/opentype/open_type_baseline_metrics.cc
@@ -10,6 +10,8 @@
 #include "third_party/blink/renderer/platform/fonts/font_platform_data.h"
 #include "third_party/blink/renderer/platform/fonts/shaping/harfbuzz_face.h"
 
+#define HarfBuzzUnitsToFloat HarfBuzzUnitsToFloat_OpenTypeBaselineMetrics
+
 namespace {
 // HarfBuzz' hb_position_t is a 16.16 fixed-point value.
 float HarfBuzzUnitsToFloat(hb_position_t value) {
@@ -70,3 +72,5 @@ std::optional<float> OpenTypeBaselineMetrics::OpenTypeIdeographicBaseline() {
 }
 
 }  // namespace blink
+
+#undef HarfBuzzUnitsToFloat
diff --git a/third_party/blink/renderer/platform/fonts/opentype/open_type_math_support.cc b/third_party/blink/renderer/platform/fonts/opentype/open_type_math_support.cc
index 1f5a4f4a6a..91e8503570 100644
--- a/third_party/blink/renderer/platform/fonts/opentype/open_type_math_support.cc
+++ b/third_party/blink/renderer/platform/fonts/opentype/open_type_math_support.cc
@@ -15,6 +15,8 @@
 #include "third_party/blink/renderer/platform/fonts/shaping/harfbuzz_face.h"
 #include "third_party/blink/renderer/platform/wtf/functional.h"
 
+#define HarfBuzzUnitsToFloat HarfBuzzUnitsToFloat_OpenTypeMathSupport
+
 namespace {
 // HarfBuzz' hb_position_t is a 16.16 fixed-point value.
 float HarfBuzzUnitsToFloat(hb_position_t value) {
@@ -253,3 +255,5 @@ OpenTypeMathSupport::GetGlyphPartRecords(
 }
 
 }  // namespace blink
+
+#undef HarfBuzzUnitsToFloat
diff --git a/third_party/blink/renderer/platform/fonts/shaping/case_mapping_harfbuzz_buffer_filler.cc b/third_party/blink/renderer/platform/fonts/shaping/case_mapping_harfbuzz_buffer_filler.cc
index 44db6ba2fc..ed70f41b3f 100644
--- a/third_party/blink/renderer/platform/fonts/shaping/case_mapping_harfbuzz_buffer_filler.cc
+++ b/third_party/blink/renderer/platform/fonts/shaping/case_mapping_harfbuzz_buffer_filler.cc
@@ -9,6 +9,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/case_map.h"
 #include "third_party/blink/renderer/platform/wtf/text/utf16.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 static const uint16_t* ToUint16(const UChar* src) {
@@ -101,3 +106,7 @@ void CaseMappingHarfBuzzBufferFiller::FillSlowCase(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/fonts/shaping/harfbuzz_shaper.cc b/third_party/blink/renderer/platform/fonts/shaping/harfbuzz_shaper.cc
index 5142d226e6..260c79ff98 100644
--- a/third_party/blink/renderer/platform/fonts/shaping/harfbuzz_shaper.cc
+++ b/third_party/blink/renderer/platform/fonts/shaping/harfbuzz_shaper.cc
@@ -66,6 +66,8 @@
 #include "third_party/blink/renderer/platform/wtf/text/string_builder.h"
 #include "third_party/blink/renderer/platform/wtf/text/unicode.h"
 
+#define HarfBuzzPositionToFloat HarfBuzzPositionToFloat_HarfbuzzShaper
+
 namespace blink {
 
 namespace {
@@ -1288,3 +1290,5 @@ void HarfBuzzShaper::GetGlyphData(const SimpleFontData& font_data,
 }
 
 }  // namespace blink
+
+#undef HarfBuzzPositionToFloat
diff --git a/third_party/blink/renderer/platform/fonts/shaping/shape_result.cc b/third_party/blink/renderer/platform/fonts/shaping/shape_result.cc
index b313bec964..1cd31f9531 100644
--- a/third_party/blink/renderer/platform/fonts/shaping/shape_result.cc
+++ b/third_party/blink/renderer/platform/fonts/shaping/shape_result.cc
@@ -52,6 +52,8 @@
 #include "third_party/blink/renderer/platform/wtf/text/string_builder.h"
 #include "ui/gfx/geometry/skia_conversions.h"
 
+#define HarfBuzzPositionToFloat HarfBuzzPositionToFloat_ShapeResult
+
 namespace blink {
 
 constexpr unsigned HarfBuzzRunGlyphData::kMaxCharacterIndex;
@@ -2494,3 +2496,5 @@ gfx::RectF ShapeResult::ComputeInkBounds() const {
 }
 
 }  // namespace blink
+
+#undef HarfBuzzPositionToFloat
diff --git a/third_party/blink/renderer/platform/geometry/layout_unit.cc b/third_party/blink/renderer/platform/geometry/layout_unit.cc
index 9d3b36ef25..ffbf29ecb8 100644
--- a/third_party/blink/renderer/platform/geometry/layout_unit.cc
+++ b/third_party/blink/renderer/platform/geometry/layout_unit.cc
@@ -57,3 +57,5 @@ INSTANTIATE(16, int32_t);
 INSTANTIATE(16, int64_t);
 
 }  // namespace blink
+
+#undef INSTANTIATE
diff --git a/third_party/blink/renderer/platform/geometry/physical_offset.cc b/third_party/blink/renderer/platform/geometry/physical_offset.cc
index f3101af87e..2e8455a011 100644
--- a/third_party/blink/renderer/platform/geometry/physical_offset.cc
+++ b/third_party/blink/renderer/platform/geometry/physical_offset.cc
@@ -29,3 +29,5 @@ std::ostream& operator<<(std::ostream& os,
 INSTANTIATE(LayoutUnit);
 
 }  // namespace blink
+
+#undef INSTANTIATE
diff --git a/third_party/blink/renderer/platform/graphics/static_bitmap_image_to_video_frame_copier.cc b/third_party/blink/renderer/platform/graphics/static_bitmap_image_to_video_frame_copier.cc
index 677e56d718..ff89efd35f 100644
--- a/third_party/blink/renderer/platform/graphics/static_bitmap_image_to_video_frame_copier.cc
+++ b/third_party/blink/renderer/platform/graphics/static_bitmap_image_to_video_frame_copier.cc
@@ -21,6 +21,11 @@
 #include "third_party/skia/include/core/SkImage.h"
 #include "ui/gfx/color_space.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 StaticBitmapImageToVideoFrameCopier::StaticBitmapImageToVideoFrameCopier(
@@ -290,3 +295,7 @@ void StaticBitmapImageToVideoFrameCopier::OnReleaseMailbox(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/heap/BUILD.gn b/third_party/blink/renderer/platform/heap/BUILD.gn
index f559c63412..1d94a02338 100644
--- a/third_party/blink/renderer/platform/heap/BUILD.gn
+++ b/third_party/blink/renderer/platform/heap/BUILD.gn
@@ -4,6 +4,7 @@
 
 import("//build/buildflag_header.gni")
 import("//build/config/compiler/compiler.gni")
+import("//build/config/jumbo.gni")
 import("//build/config/sanitizers/sanitizers.gni")
 import("//testing/test.gni")
 import("//third_party/blink/public/public_features.gni")
@@ -102,7 +103,7 @@ blink_platform_sources("heap") {
   ]
 }
 
-source_set("test_support") {
+jumbo_source_set("test_support") {
   testonly = true
 
   sources = [
@@ -151,7 +152,7 @@ test("blink_heap_unittests") {
   }
 }
 
-source_set("blink_heap_unittests_sources") {
+jumbo_source_set("blink_heap_unittests_sources") {
   testonly = true
 
   sources = [
diff --git a/third_party/blink/renderer/platform/heap/garbage_collected.h b/third_party/blink/renderer/platform/heap/garbage_collected.h
index 76856823d2..fc10b03613 100644
--- a/third_party/blink/renderer/platform/heap/garbage_collected.h
+++ b/third_party/blink/renderer/platform/heap/garbage_collected.h
@@ -14,6 +14,11 @@
 #include "v8/include/cppgc/liveness-broker.h"
 #include "v8/include/cppgc/type-traits.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace cppgc {
 class LivenessBroker;
 class Visitor;
@@ -66,3 +71,7 @@ inline constexpr bool kCustomizeSupportsUnretained<T> = false;
 }  // namespace base::internal
 
 #endif  // THIRD_PARTY_BLINK_RENDERER_PLATFORM_HEAP_GARBAGE_COLLECTED_H_
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/image-decoders/BUILD.gn b/third_party/blink/renderer/platform/image-decoders/BUILD.gn
index 31f8b57c43..8137a8ab59 100644
--- a/third_party/blink/renderer/platform/image-decoders/BUILD.gn
+++ b/third_party/blink/renderer/platform/image-decoders/BUILD.gn
@@ -2,13 +2,14 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//build/config/sanitizers/sanitizers.gni")
 import("//media/media_options.gni")
 import("//testing/test.gni")
 import("//third_party/blink/renderer/config.gni")
 import("//third_party/blink/renderer/platform/platform.gni")
 
-component("image_decoders") {
+jumbo_component("image_decoders") {
   visibility = [
     "//third_party/blink/renderer/core/*",
     "//third_party/blink/renderer/platform/*",
diff --git a/third_party/blink/renderer/platform/instrumentation/BUILD.gn b/third_party/blink/renderer/platform/instrumentation/BUILD.gn
index 0573c63c00..553d709e7b 100644
--- a/third_party/blink/renderer/platform/instrumentation/BUILD.gn
+++ b/third_party/blink/renderer/platform/instrumentation/BUILD.gn
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//third_party/blink/renderer/platform/platform.gni")
 
 blink_platform_sources("instrumentation") {
@@ -60,7 +61,7 @@ component("histogram") {
   ]
 }
 
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   testonly = true
 
   sources = [
diff --git a/third_party/blink/renderer/platform/loader/BUILD.gn b/third_party/blink/renderer/platform/loader/BUILD.gn
index 368305c6b0..969c6dcf2e 100644
--- a/third_party/blink/renderer/platform/loader/BUILD.gn
+++ b/third_party/blink/renderer/platform/loader/BUILD.gn
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//testing/test.gni")
 import("//third_party/blink/renderer/build/scripts/scripts.gni")
 import("//third_party/blink/renderer/platform/platform.gni")
@@ -189,6 +190,14 @@ blink_platform_sources("loader") {
   sources +=
       get_target_outputs(":make_platform_loader_generated_delivery_type_names")
 
+  jumbo_excluded_sources = [
+    "fetch/url_loader/sync_load_context.cc",
+
+    # CrossThreadCopier
+    "fetch/url_loader/background_url_loader.cc",
+    "fetch/url_loader/resource_request_sender.cc",
+  ]
+
   deps = [
     ":make_platform_loader_generated_delivery_type_names",
     ":make_platform_loader_generated_fetch_initiator_type_names",
@@ -215,7 +224,7 @@ blink_platform_sources("loader") {
       [ "//third_party/blink/renderer/platform/network:network" ]
 }
 
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   # This target defines test files for blink_platform_unittests and only the
   # blink_platform_unittests target should depend on it.
   visibility = [ "//third_party/blink/renderer/platform:*" ]
@@ -278,7 +287,7 @@ source_set("unit_tests") {
   configs += [ "//build/config/compiler:no_exit_time_destructors" ]
 }
 
-source_set("test_support") {
+jumbo_source_set("test_support") {
   # This target defines test files for platform:test_support that
   # blink_platform_unittests and blink_unittests can use.
   visibility = [ "//third_party/blink/renderer/platform:test_support" ]
diff --git a/third_party/blink/renderer/platform/loader/fetch/cached_metadata.cc b/third_party/blink/renderer/platform/loader/fetch/cached_metadata.cc
index 192a8bc751..73c965b871 100644
--- a/third_party/blink/renderer/platform/loader/fetch/cached_metadata.cc
+++ b/third_party/blink/renderer/platform/loader/fetch/cached_metadata.cc
@@ -11,6 +11,11 @@
 #include "base/numerics/safe_conversions.h"
 #include "third_party/blink/renderer/platform/loader/fetch/url_loader/cached_metadata_handler.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -105,3 +110,7 @@ CachedMetadata::DrainSerializedData() && {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/loader/fetch/url_loader/mojo_url_loader_client.cc b/third_party/blink/renderer/platform/loader/fetch/url_loader/mojo_url_loader_client.cc
index 5987071336..caf1abbe28 100644
--- a/third_party/blink/renderer/platform/loader/fetch/url_loader/mojo_url_loader_client.cc
+++ b/third_party/blink/renderer/platform/loader/fetch/url_loader/mojo_url_loader_client.cc
@@ -30,6 +30,11 @@
 #include "third_party/blink/renderer/platform/loader/fetch/url_loader/resource_request_sender.h"
 #include "third_party/blink/renderer/platform/wtf/functional.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 namespace {
 
@@ -546,3 +551,7 @@ void MojoURLLoaderClient::FlushDeferredMessages() {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/media/BUILD.gn b/third_party/blink/renderer/platform/media/BUILD.gn
index 0d5a0c694d..09a4060e9b 100644
--- a/third_party/blink/renderer/platform/media/BUILD.gn
+++ b/third_party/blink/renderer/platform/media/BUILD.gn
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//media/media_options.gni")
 import("//third_party/blink/renderer/platform/platform.gni")
 
@@ -27,7 +28,7 @@ blink_platform_sources("media_final") {
   deps = [ "//third_party/blink/renderer/platform:allow_discouraged_type" ]
 }
 
-component("media") {
+jumbo_component("media") {
   visibility = [
     # Note: this is here because web_media_player_impl_unittest.cc needs core
     # and web, and platform should not depend on either.
diff --git a/third_party/blink/renderer/platform/media/cache_util.cc b/third_party/blink/renderer/platform/media/cache_util.cc
index fc2967d1a7..59872b1958 100644
--- a/third_party/blink/renderer/platform/media/cache_util.cc
+++ b/third_party/blink/renderer/platform/media/cache_util.cc
@@ -18,6 +18,9 @@
 #include "third_party/blink/public/platform/web_string.h"
 #include "third_party/blink/public/platform/web_url_response.h"
 
+#define kHttpOK             kHttpOK_CacheUtil
+#define kHttpPartialContent kHttpPartialContent_CacheUtil
+
 namespace blink {
 
 using ::base::Time;
@@ -127,3 +130,6 @@ base::TimeDelta GetCacheValidUntil(const WebURLResponse& response) {
 }
 
 }  // namespace blink
+
+#undef kHttpOK
+#undef kHttpPartialContent
diff --git a/third_party/blink/renderer/platform/media/new_session_cdm_result_promise.cc b/third_party/blink/renderer/platform/media/new_session_cdm_result_promise.cc
index bcf6a5909f..3da9788a56 100644
--- a/third_party/blink/renderer/platform/media/new_session_cdm_result_promise.cc
+++ b/third_party/blink/renderer/platform/media/new_session_cdm_result_promise.cc
@@ -12,6 +12,9 @@
 #include "third_party/blink/public/platform/web_string.h"
 #include "third_party/blink/renderer/platform/media/cdm_result_promise_helper.h"
 
+#define kTimeToResolveUmaPrefix kTimeToResolveUmaPrefix_NewSessionCdmResultPromise
+#define kTimeToRejectUmaPrefix  kTimeToRejectUmaPrefix_NewSessionCdmResultPromise
+
 namespace blink {
 namespace {
 
@@ -110,3 +113,6 @@ void NewSessionCdmResultPromise::reject(CdmPromise::Exception exception_code,
 }
 
 }  // namespace blink
+
+#undef kTimeToResolveUmaPrefix
+#undef kTimeToRejectUmaPrefix
diff --git a/third_party/blink/renderer/platform/media/resource_multi_buffer_data_provider.cc b/third_party/blink/renderer/platform/media/resource_multi_buffer_data_provider.cc
index 093e01ba30..96fc5df31c 100644
--- a/third_party/blink/renderer/platform/media/resource_multi_buffer_data_provider.cc
+++ b/third_party/blink/renderer/platform/media/resource_multi_buffer_data_provider.cc
@@ -35,6 +35,9 @@
 #include "third_party/blink/renderer/platform/weborigin/security_origin.h"
 #include "third_party/blink/renderer/platform/wtf/functional.h"
 
+#define kHttpOK             kHttpOK_ResourceMultiBufferDataProvider
+#define kHttpPartialContent kHttpPartialContent_ResourceMultiBufferDataProvider
+
 namespace blink {
 
 // The number of milliseconds to wait before retrying a failed load.
@@ -596,3 +599,6 @@ bool ResourceMultiBufferDataProvider::VerifyPartialResponse(
 }
 
 }  // namespace blink
+
+#undef kHttpOK
+#undef kHttpPartialContent
diff --git a/third_party/blink/renderer/platform/mojo/browser_interface_broker_proxy_impl.cc b/third_party/blink/renderer/platform/mojo/browser_interface_broker_proxy_impl.cc
index 1362b05900..0e6924508e 100644
--- a/third_party/blink/renderer/platform/mojo/browser_interface_broker_proxy_impl.cc
+++ b/third_party/blink/renderer/platform/mojo/browser_interface_broker_proxy_impl.cc
@@ -11,6 +11,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/string_hasher.h"
 #include "third_party/blink/renderer/platform/wtf/text/string_view.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 namespace {
@@ -135,3 +140,7 @@ void BrowserInterfaceBrokerProxyImpl::Trace(Visitor* visitor) const {
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/network/BUILD.gn b/third_party/blink/renderer/platform/network/BUILD.gn
index b223e13e43..5ce0145fae 100644
--- a/third_party/blink/renderer/platform/network/BUILD.gn
+++ b/third_party/blink/renderer/platform/network/BUILD.gn
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//third_party/blink/renderer/build/scripts/scripts.gni")
 import("//third_party/blink/renderer/platform/platform.gni")
 import("//third_party/blink/renderer/platform/platform_generated.gni")
@@ -75,7 +76,7 @@ blink_platform_sources("network") {
   ]
 }
 
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   visibility = [ "//third_party/blink/renderer/platform:*" ]
   testonly = true
 
@@ -108,7 +109,7 @@ source_set("unit_tests") {
   configs += [ "//build/config/compiler:no_exit_time_destructors" ]
 }
 
-source_set("test_support") {
+jumbo_source_set("test_support") {
   visibility = [ "//third_party/blink/renderer/platform:test_support" ]
   testonly = true
 
diff --git a/third_party/blink/renderer/platform/peerconnection/rtc_video_encoder.cc b/third_party/blink/renderer/platform/peerconnection/rtc_video_encoder.cc
index 26697fc894..ffff7b1904 100644
--- a/third_party/blink/renderer/platform/peerconnection/rtc_video_encoder.cc
+++ b/third_party/blink/renderer/platform/peerconnection/rtc_video_encoder.cc
@@ -78,6 +78,11 @@
 #include "third_party/webrtc/rtc_base/time_utils.h"
 #include "ui/gfx/buffer_format_util.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace {
 
 media::SVCScalabilityMode ToSVCScalabilityMode(
@@ -3042,3 +3047,7 @@ void RTCVideoEncoder::SetH265ParameterSetsTrackerForTesting(
 #endif
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/peerconnection/stats_collecting_encoder.cc b/third_party/blink/renderer/platform/peerconnection/stats_collecting_encoder.cc
index c27f3703ef..728ab13862 100644
--- a/third_party/blink/renderer/platform/peerconnection/stats_collecting_encoder.cc
+++ b/third_party/blink/renderer/platform/peerconnection/stats_collecting_encoder.cc
@@ -13,6 +13,8 @@
 #include "third_party/blink/renderer/platform/webrtc/webrtc_video_utils.h"
 #include "third_party/webrtc/modules/video_coding/include/video_error_codes.h"
 
+#define kMaximumEncodersToCollectStats kMaximumEncodersToCollectStats_StatsCollectingEncoder
+
 namespace blink {
 namespace {
 // Limit data collection to when only a single encoder is active. This gives an
@@ -226,3 +228,5 @@ void StatsCollectingEncoder::OnDroppedFrame(DropReason reason) {
 }
 
 }  // namespace blink
+
+#undef kMaximumEncodersToCollectStats
diff --git a/third_party/blink/renderer/platform/platform.gni b/third_party/blink/renderer/platform/platform.gni
index c90255bea5..d882b4945e 100644
--- a/third_party/blink/renderer/platform/platform.gni
+++ b/third_party/blink/renderer/platform/platform.gni
@@ -2,6 +2,8 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
+
 platform_config_add = [
   "//third_party/blink/renderer:config",
   "//third_party/blink/renderer:inside_blink",
@@ -13,7 +15,7 @@ platform_config_add = [
 platform_config_remove = []
 
 template("blink_platform_sources") {
-  source_set(target_name) {
+  jumbo_source_set(target_name) {
     # Only platform can directly depend on this.
     # Any target outside platform should instead depend on platform.
     visibility = [ "//third_party/blink/renderer/platform/*" ]
diff --git a/third_party/blink/renderer/platform/scheduler/BUILD.gn b/third_party/blink/renderer/platform/scheduler/BUILD.gn
index 36c923d28b..c168252f9b 100644
--- a/third_party/blink/renderer/platform/scheduler/BUILD.gn
+++ b/third_party/blink/renderer/platform/scheduler/BUILD.gn
@@ -2,6 +2,7 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build/config/jumbo.gni")
 import("//testing/libfuzzer/fuzzer_test.gni")
 import("//third_party/blink/renderer/platform/platform.gni")
 import("//third_party/protobuf/proto_library.gni")
@@ -190,7 +191,7 @@ blink_platform_sources("scheduler") {
   ]
 }
 
-source_set("test_support") {
+jumbo_source_set("test_support") {
   testonly = true
 
   sources = [
@@ -220,7 +221,7 @@ source_set("test_support") {
   configs += [ "//third_party/blink/renderer/platform:blink_platform_config" ]
 }
 
-source_set("unit_tests") {
+jumbo_source_set("unit_tests") {
   testonly = true
 
   sources = [
@@ -268,7 +269,7 @@ source_set("unit_tests") {
   configs += [ "//third_party/blink/renderer/platform:blink_platform_config" ]
 }
 
-source_set("scheduler_fuzzer_tests") {
+jumbo_source_set("scheduler_fuzzer_tests") {
   testonly = true
 
   sources = []
diff --git a/third_party/blink/renderer/platform/storage/blink_storage_key_hash.h b/third_party/blink/renderer/platform/storage/blink_storage_key_hash.h
index 1205b7f433..75bd1e3e3e 100644
--- a/third_party/blink/renderer/platform/storage/blink_storage_key_hash.h
+++ b/third_party/blink/renderer/platform/storage/blink_storage_key_hash.h
@@ -9,6 +9,11 @@
 #include "third_party/blink/renderer/platform/storage/blink_storage_key.h"
 #include "third_party/blink/renderer/platform/weborigin/security_origin.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 struct BlinkStorageKeyHashTraits
@@ -61,4 +66,8 @@ struct BlinkStorageKeyHashTraits
 
 }  // namespace blink
 
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
+
 #endif  // THIRD_PARTY_BLINK_RENDERER_PLATFORM_STORAGE_BLINK_STORAGE_KEY_HASH_H_
diff --git a/third_party/blink/renderer/platform/text/text_encoding_detector.cc b/third_party/blink/renderer/platform/text/text_encoding_detector.cc
index e70286e4c0..dd1edeae9a 100644
--- a/third_party/blink/renderer/platform/text/text_encoding_detector.cc
+++ b/third_party/blink/renderer/platform/text/text_encoding_detector.cc
@@ -45,6 +45,11 @@
 #define UNICODE 1
 #endif  // BUILDFLAG(IS_WIN)
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 bool DetectTextEncoding(base::span<const uint8_t> bytes,
@@ -86,3 +91,7 @@ bool DetectTextEncoding(base::span<const uint8_t> bytes,
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/theme/web_theme_engine_default.cc b/third_party/blink/renderer/platform/theme/web_theme_engine_default.cc
index a356e37e92..f2d66afd30 100644
--- a/third_party/blink/renderer/platform/theme/web_theme_engine_default.cc
+++ b/third_party/blink/renderer/platform/theme/web_theme_engine_default.cc
@@ -277,7 +277,7 @@ SkColor4f WebThemeEngineDefault::GetScrollbarThumbColor(
 }
 
 void WebThemeEngineDefault::GetOverlayScrollbarStyle(ScrollbarStyle* style) {
-  if (!base::FeatureList::IsEnabled(features::kScrollbarAnimations)) {
+  if (!base::FeatureList::IsEnabled(::features::kScrollbarAnimations)) {
     style->fade_out_delay = base::TimeDelta::Max();
     style->fade_out_duration = base::TimeDelta();
   } else {
diff --git a/third_party/blink/renderer/platform/weborigin/security_origin.h b/third_party/blink/renderer/platform/weborigin/security_origin.h
index 926537abee..63790d9c91 100644
--- a/third_party/blink/renderer/platform/weborigin/security_origin.h
+++ b/third_party/blink/renderer/platform/weborigin/security_origin.h
@@ -44,6 +44,11 @@
 #include "third_party/blink/renderer/platform/wtf/thread_safe_ref_counted.h"
 #include "url/origin.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 class KURL;
@@ -532,4 +537,8 @@ struct HashTraits<scoped_refptr<const SecurityOrigin>>
 
 }  // namespace blink
 
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
+
 #endif  // THIRD_PARTY_BLINK_RENDERER_PLATFORM_WEBORIGIN_SECURITY_ORIGIN_H_
diff --git a/third_party/blink/renderer/platform/webrtc/convert_to_webrtc_video_frame_buffer.cc b/third_party/blink/renderer/platform/webrtc/convert_to_webrtc_video_frame_buffer.cc
index 073bbd5889..5467c9aa20 100644
--- a/third_party/blink/renderer/platform/webrtc/convert_to_webrtc_video_frame_buffer.cc
+++ b/third_party/blink/renderer/platform/webrtc/convert_to_webrtc_video_frame_buffer.cc
@@ -25,6 +25,11 @@
 #include "third_party/webrtc/common_video/include/video_frame_buffer.h"
 #include "third_party/webrtc/rtc_base/ref_counted_object.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 // Template specializations of [1], needed to be able to pass WTF callbacks
@@ -583,3 +588,7 @@ scoped_refptr<media::VideoFrame> ConvertFromMappedWebRtcVideoFrameBuffer(
 }
 
 }  // namespace blink
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff --git a/third_party/blink/renderer/platform/widget/input/main_thread_event_queue.cc b/third_party/blink/renderer/platform/widget/input/main_thread_event_queue.cc
index 5d6b3197bb..2a3f3e26af 100644
--- a/third_party/blink/renderer/platform/widget/input/main_thread_event_queue.cc
+++ b/third_party/blink/renderer/platform/widget/input/main_thread_event_queue.cc
@@ -23,6 +23,8 @@
 #include "third_party/blink/public/common/input/web_mouse_wheel_event.h"
 #include "third_party/blink/renderer/platform/runtime_enabled_features.h"
 
+#define IsGestureScroll IsGestureScroll_QueuedWebInputEvent
+
 namespace blink {
 
 namespace {
@@ -991,3 +993,5 @@ bool MainThreadEventQueue::ShouldThrottleAsyncTouchMoves(
 }
 
 }  // namespace blink
+
+#undef IsGestureScroll
diff --git a/third_party/blink/renderer/platform/widget/input/widget_base_input_handler.cc b/third_party/blink/renderer/platform/widget/input/widget_base_input_handler.cc
index 71570ab35a..52424396d3 100644
--- a/third_party/blink/renderer/platform/widget/input/widget_base_input_handler.cc
+++ b/third_party/blink/renderer/platform/widget/input/widget_base_input_handler.cc
@@ -42,6 +42,8 @@
 
 using perfetto::protos::pbzero::TrackEvent;
 
+#define IsGestureScroll IsGestureScroll_WidgetBaseInputHandler
+
 namespace blink {
 
 namespace {
@@ -681,3 +683,5 @@ bool WidgetBaseInputHandler::ProcessTouchAction(WebTouchAction touch_action) {
 }
 
 }  // namespace blink
+
+#undef IsGestureScroll
diff --git a/third_party/blink/renderer/platform/wtf/BUILD.gn b/third_party/blink/renderer/platform/wtf/BUILD.gn
index 4ad38e95f6..65df137826 100644
--- a/third_party/blink/renderer/platform/wtf/BUILD.gn
+++ b/third_party/blink/renderer/platform/wtf/BUILD.gn
@@ -8,6 +8,7 @@ assert(use_blink)
 
 import("//build/buildflag_header.gni")
 import("//build/config/compiler/compiler.gni")
+import("//build/config/jumbo.gni")
 import("//testing/test.gni")
 import("//third_party/blink/public/public_features.gni")
 import("//third_party/blink/renderer/config.gni")
@@ -37,7 +38,7 @@ config("wtf_config") {
   }
 }
 
-component("wtf") {
+jumbo_component("wtf") {
   output_name = "blink_platform_wtf"
 
   sources = [
@@ -289,7 +290,7 @@ test("wtf_unittests") {
   deps = [ ":wtf_unittests_sources" ]
 }
 
-source_set("wtf_unittests_sources") {
+jumbo_source_set("wtf_unittests_sources") {
   visibility = []  # Allow re-assignment of list.
   visibility = [ "*" ]
   testonly = true
diff --git a/third_party/blink/renderer/platform/wtf/text/string_hash.h b/third_party/blink/renderer/platform/wtf/text/string_hash.h
index 7a257cd18e..3ec722614a 100644
--- a/third_party/blink/renderer/platform/wtf/text/string_hash.h
+++ b/third_party/blink/renderer/platform/wtf/text/string_hash.h
@@ -29,6 +29,11 @@
 #include "third_party/blink/renderer/platform/wtf/text/string_hasher.h"
 #include "third_party/blink/renderer/platform/wtf/text/wtf_string.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 // The GetHash() functions in below HashTraits do not support null strings.
@@ -116,4 +121,8 @@ struct hash<blink::String> {
 };
 }  // namespace std
 
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
+
 #endif  // THIRD_PARTY_BLINK_RENDERER_PLATFORM_WTF_TEXT_STRING_HASH_H_
diff --git a/third_party/blink/renderer/platform/wtf/text/string_impl.h b/third_party/blink/renderer/platform/wtf/text/string_impl.h
index 733aed247a..ebc20c073d 100644
--- a/third_party/blink/renderer/platform/wtf/text/string_impl.h
+++ b/third_party/blink/renderer/platform/wtf/text/string_impl.h
@@ -61,6 +61,11 @@ typedef const struct __CFString* CFStringRef;
 @class NSString;
 #endif
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 namespace blink {
 
 class AtomicStringTable;
@@ -947,4 +952,8 @@ struct HashTraits<scoped_refptr<StringImpl>>;
 
 }  // namespace blink
 
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
+
 #endif  // THIRD_PARTY_BLINK_RENDERER_PLATFORM_WTF_TEXT_STRING_IMPL_H_
diff --git a/third_party/blink/renderer/platform/wtf/vector.h b/third_party/blink/renderer/platform/wtf/vector.h
index d7ec050e88..609a531b26 100644
--- a/third_party/blink/renderer/platform/wtf/vector.h
+++ b/third_party/blink/renderer/platform/wtf/vector.h
@@ -58,6 +58,11 @@
 #include "third_party/blink/renderer/platform/wtf/vector_traits.h"
 #include "third_party/blink/renderer/platform/wtf/wtf_size_t.h"
 
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wshorten-64-to-32"
+#endif
+
 // For ASAN builds, disable inline buffers completely as they cause various
 // issues.
 #ifdef ANNOTATE_CONTIGUOUS_CONTAINER
@@ -2621,4 +2626,8 @@ auto ToVector(Range&& range, Proj proj = {}) {
 
 }  // namespace blink
 
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
+
 #endif  // THIRD_PARTY_BLINK_RENDERER_PLATFORM_WTF_VECTOR_H_
diff --git a/third_party/blink/renderer/platform/wtf/text/atomic_string.h b/third_party/blink/renderer/platform/wtf/text/atomic_string.h
index 0d4bfa601d..f3c82b3d8e 100644
--- a/third_party/blink/renderer/platform/wtf/text/atomic_string.h
+++ b/third_party/blink/renderer/platform/wtf/text/atomic_string.h
@@ -326,3 +326,6 @@ WTF_ALLOW_MOVE_INIT_AND_COMPARE_WITH_MEM_FUNCTIONS(blink::AtomicString)
 
 #include "third_party/blink/renderer/platform/wtf/text/string_operators_atomic.h"
 #endif  // THIRD_PARTY_BLINK_RENDERER_PLATFORM_WTF_TEXT_ATOMIC_STRING_H_
+
+// FIXME: Where exactly did Google forget to include this file?
+#include "third_party/blink/renderer/platform/wtf/text/atomic_string_hash.h"
diff --git a/third_party/blink/renderer/modules/peerconnection/rtc_transport/rtc_transport.cc b/third_party/blink/renderer/modules/peerconnection/rtc_transport/rtc_transport.cc
index 3ebe4bb745..fba0084cb1 100644
--- a/third_party/blink/renderer/modules/peerconnection/rtc_transport/rtc_transport.cc
+++ b/third_party/blink/renderer/modules/peerconnection/rtc_transport/rtc_transport.cc
@@ -37,6 +37,8 @@
 #include "third_party/webrtc/pc/ice_server_parsing.h"
 #include "third_party/webrtc/rtc_base/rtc_certificate_generator.h"
 
+#define kMaxDigestSize kMaxDigestSize_RtcTransport
+
 namespace blink {
 namespace {
 // Maximum known size (SHA-512). See
@@ -548,3 +550,5 @@ void RtcTransport::Dispose() {
 }
 
 }  // namespace blink
+
+#undef kMaxDigestSize
diff --git a/third_party/blink/renderer/core/xml/parser/xml_document_parser_rs.cc b/third_party/blink/renderer/core/xml/parser/xml_document_parser_rs.cc
index 8238b11bef..5abb967f85 100644
--- a/third_party/blink/renderer/core/xml/parser/xml_document_parser_rs.cc
+++ b/third_party/blink/renderer/core/xml/parser/xml_document_parser_rs.cc
@@ -54,6 +54,10 @@
 #include "third_party/blink/renderer/core/xmlns_names.h"
 #include "third_party/blink/renderer/platform/wtf/text/strcat.h"
 
+#define HasNoStyleInformation HasNoStyleInformation_RS
+#define SetAttributes         SetAttributes_RS
+#define kMaxXMLTreeDepth      kMaxXMLTreeDepth_RS
+
 namespace blink {
 
 namespace {
@@ -835,3 +839,7 @@ HashMap<String, String> ParseAttributesRust(const String& attrs_string,
 }
 
 }  // namespace blink
+
+#undef HasNoStyleInformation
+#undef SetAttributes
+#undef kMaxXMLTreeDepth
--- a/third_party/blink/renderer/core/dom/subscriber.cc
+++ b/third_party/blink/renderer/core/dom/subscriber.cc
@@ -22,8 +22,6 @@
 
 namespace blink {
 
-using PassKey = base::PassKey<Subscriber>;
-
 class Subscriber::ConsumerAbortSubscriptionAlgorithm final
     : public AbortSignal::Algorithm {
  public:
--- a/third_party/blink/renderer/modules/xr/xr_rigid_transform.h
+++ b/third_party/blink/renderer/modules/xr/xr_rigid_transform.h
@@ -11,10 +11,7 @@
 #include "third_party/blink/renderer/core/typed_arrays/dom_typed_array.h"
 #include "third_party/blink/renderer/modules/modules_export.h"
 #include "third_party/blink/renderer/platform/bindings/script_wrappable.h"
-
-namespace gfx {
-class Transform;
-}
+#include "ui/gfx/geometry/transform.h"
 
 namespace blink {
 
