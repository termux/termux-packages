--- a/src/private/CMakeLists.txt
+++ b/src/private/CMakeLists.txt
@@ -16,7 +16,7 @@
         ${CMAKE_CURRENT_BINARY_DIR}/protocol_gen.cpp
         ${CMAKE_CURRENT_BINARY_DIR}/protocol_gen.h
     COMMAND
-        protocolgen ${CMAKE_CURRENT_SOURCE_DIR}/protocol.xml
+        @PROTOCOLGEN@ ${CMAKE_CURRENT_SOURCE_DIR}/protocol.xml
     DEPENDS
         protocolgen
         ${CMAKE_CURRENT_SOURCE_DIR}/protocol.xml
